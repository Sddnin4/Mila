-- Mila UI - Cute Roblox

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")

-- Bi·∫øn tr·∫°ng th√°i
local flyEnabled = false
local speedEnabled = false
local jumpEnabled = false
local noclipEnabled = false
local invisibleEnabled = false
local infiniteJumpEnabled = false

local flySpeed = 50
local walkSpeed = 100
local jumpPower = 120

-- T·∫°o ScreenGui ch√≠nh
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MilaUI"
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

-- Frame ch√≠nh v·ªõi thi·∫øt k·∫ø cute
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 350, 0, 450)
mainFrame.Position = UDim2.new(0.5, -175, 0.5, -225)
mainFrame.BackgroundColor3 = Color3.fromRGB(255, 182, 193) -- M√†u h·ªìng cute
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- Bo g√≥c cho frame ch√≠nh
local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 20)
mainCorner.Parent = mainFrame

-- Gradient cho frame ch√≠nh
local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 182, 193)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 218, 255))
}
gradient.Rotation = 45
gradient.Parent = mainFrame

-- Header v·ªõi t√™n Mila
local header = Instance.new("TextLabel")
header.Name = "Header"
header.Size = UDim2.new(1, 0, 0, 50)
header.Position = UDim2.new(0, 0, 0, 0)
header.BackgroundColor3 = Color3.fromRGB(255, 105, 180)
header.BorderSizePixel = 0
header.Text = "üíñ Mila UI üíñ"
header.TextColor3 = Color3.fromRGB(255, 255, 255)
header.TextScaled = true
header.Font = Enum.Font.GothamBold
header.Parent = mainFrame

local headerCorner = Instance.new("UICorner")
headerCorner.CornerRadius = UDim.new(0, 20)
headerCorner.Parent = header

-- N√∫t ƒë√≥ng
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -40, 0, 10)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 69, 0)
closeButton.BorderSizePixel = 0
closeButton.Text = "‚úï"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextScaled = true
closeButton.Font = Enum.Font.GothamBold
closeButton.Parent = header

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 15)
closeCorner.Parent = closeButton

-- ScrollingFrame cho c√°c n√∫t
local scrollFrame = Instance.new("ScrollingFrame")
scrollFrame.Name = "ScrollFrame"
scrollFrame.Size = UDim2.new(1, -20, 1, -70)
scrollFrame.Position = UDim2.new(0, 10, 0, 60)
scrollFrame.BackgroundTransparency = 1
scrollFrame.BorderSizePixel = 0
scrollFrame.ScrollBarThickness = 8
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 600)
scrollFrame.Parent = mainFrame

-- UIListLayout cho scroll frame
local listLayout = Instance.new("UIListLayout")
listLayout.SortOrder = Enum.SortOrder.LayoutOrder
listLayout.Padding = UDim.new(0, 10)
listLayout.Parent = scrollFrame

-- H√†m t·∫°o n√∫t cute
local function createCuteButton(name, text, emoji, callback)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(1, -20, 0, 45)
    button.BackgroundColor3 = Color3.fromRGB(255, 240, 245)
    button.BorderSizePixel = 0
    button.Text = emoji .. " " .. text
    button.TextColor3 = Color3.fromRGB(139, 69, 19)
    button.TextScaled = true
    button.Font = Enum.Font.Gotham
    button.Parent = scrollFrame
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 15)
    buttonCorner.Parent = button
    
    -- Hi·ªáu ·ª©ng hover
    button.MouseEnter:Connect(function()
        local tween = TweenService:Create(button, 
            TweenInfo.new(0.2, Enum.EasingStyle.Quad), 
            {BackgroundColor3 = Color3.fromRGB(255, 192, 203)}
        )
        tween:Play()
    end)
    
    button.MouseLeave:Connect(function()
        local tween = TweenService:Create(button, 
            TweenInfo.new(0.2, Enum.EasingStyle.Quad), 
            {BackgroundColor3 = Color3.fromRGB(255, 240, 245)}
        )
        tween:Play()
    end)
    
    button.MouseButton1Click:Connect(callback)
    return button
end

-- H√†m Speed Hack
local function toggleSpeed()
    speedEnabled = not speedEnabled
    if speedEnabled then
        humanoid.WalkSpeed = walkSpeed
    else
        humanoid.WalkSpeed = 16
    end
end

-- H√†m Jump Hack
local function toggleJump()
    jumpEnabled = not jumpEnabled
    if jumpEnabled then
        humanoid.JumpPower = jumpPower
    else
        humanoid.JumpPower = 50
    end
end

-- H√†m Fly
local bodyVelocity
local function toggleFly()
    flyEnabled = not flyEnabled
    if flyEnabled then
        bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
        bodyVelocity.Velocity = Vector3.new(0, 0, 0)
        bodyVelocity.Parent = rootPart
        
        -- ƒêi·ªÅu khi·ªÉn bay
        local flyConnection
        flyConnection = RunService.Heartbeat:Connect(function()
            if not flyEnabled then
                flyConnection:Disconnect()
                return
            end
            
            local moveVector = humanoid.MoveDirection
            local lookVector = Workspace.CurrentCamera.CFrame.LookVector
            local rightVector = Workspace.CurrentCamera.CFrame.RightVector
            
            local velocity = Vector3.new(0, 0, 0)
            
            if UserInputService:IsKeyDown(Enum.KeyCode.W) then
                velocity = velocity + (lookVector * flySpeed)
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then
                velocity = velocity - (lookVector * flySpeed)
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.A) then
                velocity = velocity - (rightVector * flySpeed)
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.D) then
                velocity = velocity + (rightVector * flySpeed)
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
                velocity = velocity + Vector3.new(0, flySpeed, 0)
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then
                velocity = velocity - Vector3.new(0, flySpeed, 0)
            end
            
            bodyVelocity.Velocity = velocity
        end)
    else
        if bodyVelocity then
            bodyVelocity:Destroy()
            bodyVelocity = nil
        end
    end
end

-- H√†m Infinite Jump
local function toggleInfiniteJump()
    infiniteJumpEnabled = not infiniteJumpEnabled
    if infiniteJumpEnabled then
        UserInputService.JumpRequest:Connect(function()
            if infiniteJumpEnabled then
                humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end)
    end
end

-- H√†m Noclip
local noclipConnection
local function toggleNoclip()
    noclipEnabled = not noclipEnabled
    if noclipEnabled then
        noclipConnection = RunService.Stepped:Connect(function()
            if character and noclipEnabled then
                for _, part in pairs(character:GetChildren()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end)
    else
        if noclipConnection then
            noclipConnection:Disconnect()
        end
        if character then
            for _, part in pairs(character:GetChildren()) do
                if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                    part.CanCollide = true
                end
            end
        end
    end
end

-- H√†m Invisibility
local function toggleInvisibility()
    invisibleEnabled = not invisibleEnabled
    if character then
        for _, part in pairs(character:GetChildren()) do
            if part:IsA("BasePart") then
                part.Transparency = invisibleEnabled and 1 or 0
            elseif part:IsA("Accessory") then
                for _, accessoryPart in pairs(part:GetChildren()) do
                    if accessoryPart:IsA("BasePart") then
                        accessoryPart.Transparency = invisibleEnabled and 1 or 0
                    end
                end
            end
        end
        -- Gi·ªØ l·∫°i head ƒë·ªÉ nh√¨n th·∫•y
        if character:FindFirstChild("Head") then
            character.Head.Transparency = invisibleEnabled and 0.5 or 0
        end
    end
end

-- H√†m Teleport to Player
local function teleportToPlayer()
    local targetPlayerName = ""
    
    -- T·∫°o input dialog ƒë∆°n gi·∫£n
    local inputFrame = Instance.new("Frame")
    inputFrame.Size = UDim2.new(0, 300, 0, 150)
    inputFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
    inputFrame.BackgroundColor3 = Color3.fromRGB(255, 240, 245)
    inputFrame.BorderSizePixel = 0
    inputFrame.Parent = screenGui
    
    local inputCorner = Instance.new("UICorner")
    inputCorner.CornerRadius = UDim.new(0, 15)
    inputCorner.Parent = inputFrame
    
    local inputLabel = Instance.new("TextLabel")
    inputLabel.Size = UDim2.new(1, 0, 0, 40)
    inputLabel.BackgroundTransparency = 1
    inputLabel.Text = "Nh·∫≠p t√™n ng∆∞·ªùi ch∆°i:"
    inputLabel.TextColor3 = Color3.fromRGB(139, 69, 19)
    inputLabel.TextScaled = true
    inputLabel.Font = Enum.Font.Gotham
    inputLabel.Parent = inputFrame
    
    local textBox = Instance.new("TextBox")
    textBox.Size = UDim2.new(1, -20, 0, 30)
    textBox.Position = UDim2.new(0, 10, 0, 50)
    textBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    textBox.BorderSizePixel = 0
    textBox.PlaceholderText = "T√™n ng∆∞·ªùi ch∆°i..."
    textBox.Text = ""
    textBox.TextColor3 = Color3.fromRGB(0, 0, 0)
    textBox.TextScaled = true
    textBox.Font = Enum.Font.Gotham
    textBox.Parent = inputFrame
    
    local textBoxCorner = Instance.new("UICorner")
    textBoxCorner.CornerRadius = UDim.new(0, 8)
    textBoxCorner.Parent = textBox
    
    local confirmButton = Instance.new("TextButton")
    confirmButton.Size = UDim2.new(0, 80, 0, 30)
    confirmButton.Position = UDim2.new(0, 10, 0, 100)
    confirmButton.BackgroundColor3 = Color3.fromRGB(144, 238, 144)
    confirmButton.BorderSizePixel = 0
    confirmButton.Text = "‚úì OK"
    confirmButton.TextColor3 = Color3.fromRGB(0, 100, 0)
    confirmButton.TextScaled = true
    confirmButton.Font = Enum.Font.GothamBold
    confirmButton.Parent = inputFrame
    
    local confirmCorner = Instance.new("UICorner")
    confirmCorner.CornerRadius = UDim.new(0, 8)
    confirmCorner.Parent = confirmButton
    
    local cancelButton = Instance.new("TextButton")
    cancelButton.Size = UDim2.new(0, 80, 0, 30)
    cancelButton.Position = UDim2.new(1, -90, 0, 100)
    cancelButton.BackgroundColor3 = Color3.fromRGB(255, 160, 160)
    cancelButton.BorderSizePixel = 0
    cancelButton.Text = "‚úï H·ªßy"
    cancelButton.TextColor3 = Color3.fromRGB(139, 0, 0)
    cancelButton.TextScaled = true
    cancelButton.Font = Enum.Font.GothamBold
    cancelButton.Parent = inputFrame
    
    local cancelCorner = Instance.new("UICorner")
    cancelCorner.CornerRadius = UDim.new(0, 8)
    cancelCorner.Parent = cancelButton
    
    confirmButton.MouseButton1Click:Connect(function()
        local targetName = textBox.Text
        local targetPlayer = nil
        
        for _, p in pairs(Players:GetPlayers()) do
            if string.lower(p.Name):find(string.lower(targetName)) or 
               string.lower(p.DisplayName):find(string.lower(targetName)) then
                targetPlayer = p
                break
            end
        end
        
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            rootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 5, 0)
        end
        
        inputFrame:Destroy()
    end)
    
    cancelButton.MouseButton1Click:Connect(function()
        inputFrame:Destroy()
    end)
end

-- T·∫°o c√°c n√∫t ch·ª©c nƒÉng
createCuteButton("SpeedButton", "Ch·∫°y Nhanh", "üèÉ‚Äç‚ôÄÔ∏è", toggleSpeed)
createCuteButton("JumpButton", "Nh·∫£y Cao", "ü¶ò", toggleJump)
createCuteButton("FlyButton", "Bay", "ü¶ã", toggleFly)
createCuteButton("InfiniteJumpButton", "V√¥ H·∫°n Nh·∫£y", "üåü", toggleInfiniteJump)
createCuteButton("NoclipButton", "Xuy√™n T∆∞·ªùng", "üëª", toggleNoclip)
createCuteButton("InvisibilityButton", "T√†ng H√¨nh", "üåô", toggleInvisibility)
createCuteButton("TeleportButton", "D·ªãch Chuy·ªÉn", "‚ú®", teleportToPlayer)

-- Slider cho c√°c gi√° tr·ªã
local function createSlider(name, text, minVal, maxVal, defaultVal, callback)
    local sliderFrame = Instance.new("Frame")
    sliderFrame.Name = name .. "Frame"
    sliderFrame.Size = UDim2.new(1, -20, 0, 60)
    sliderFrame.BackgroundColor3 = Color3.fromRGB(255, 248, 220)
    sliderFrame.BorderSizePixel = 0
    sliderFrame.Parent = scrollFrame
    
    local sliderCorner = Instance.new("UICorner")
    sliderCorner.CornerRadius = UDim.new(0, 10)
    sliderCorner.Parent = sliderFrame
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 0, 25)
    label.BackgroundTransparency = 1
    label.Text = text .. ": " .. defaultVal
    label.TextColor3 = Color3.fromRGB(139, 69, 19)
    label.TextScaled = true
    label.Font = Enum.Font.Gotham
    label.Parent = sliderFrame
    
    local slider = Instance.new("TextButton")
    slider.Size = UDim2.new(1, -20, 0, 20)
    slider.Position = UDim2.new(0, 10, 0, 30)
    slider.BackgroundColor3 = Color3.fromRGB(220, 220, 220)
    slider.BorderSizePixel = 0
    slider.Text = ""
    slider.Parent = sliderFrame
    
    local sliderBg = Instance.new("UICorner")
    sliderBg.CornerRadius = UDim.new(0, 10)
    sliderBg.Parent = slider
    
    local knob = Instance.new("Frame")
    knob.Size = UDim2.new(0, 20, 1, 0)
    knob.BackgroundColor3 = Color3.fromRGB(255, 105, 180)
    knob.BorderSizePixel = 0
    knob.Parent = slider
    
    local knobCorner = Instance.new("UICorner")
    knobCorner.CornerRadius = UDim.new(0, 10)
    knobCorner.Parent = knob
    
    local dragging = false
    local function updateSlider(input)
        local percentage = math.clamp((input.Position.X - slider.AbsolutePosition.X) / slider.AbsoluteSize.X, 0, 1)
        knob.Position = UDim2.new(percentage, -10, 0, 0)
        local value = math.floor(minVal + (maxVal - minVal) * percentage)
        label.Text = text .. ": " .. value
        callback(value)
    end
    
    slider.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            updateSlider(input)
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            updateSlider(input)
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
end

-- T·∫°o sliders
createSlider("Speed", "üèÉ‚Äç‚ôÄÔ∏è T·ªëc ƒê·ªô", 16, 200, 100, function(value)
    walkSpeed = value
    if speedEnabled then
        humanoid.WalkSpeed = value
    end
end)

createSlider("Jump", "ü¶ò L·ª±c Nh·∫£y", 50, 300, 120, function(value)
    jumpPower = value
    if jumpEnabled then
        humanoid.JumpPower = value
    end
end)

createSlider("Fly", "ü¶ã T·ªëc ƒê·ªô Bay", 10, 100, 50, function(value)
    flySpeed = value
end)

-- N√∫t reset t·∫•t c·∫£
createCuteButton("ResetButton", "Reset T·∫•t C·∫£", "üîÑ", function()
    -- T·∫Øt t·∫•t c·∫£ ch·ª©c nƒÉng
    speedEnabled = false
    jumpEnabled = false
    flyEnabled = false
    noclipEnabled = false
    invisibleEnabled = false
    infiniteJumpEnabled = false
    
    -- Reset gi√° tr·ªã
    humanoid.WalkSpeed = 16
    humanoid.JumpPower = 50
    
    -- D·ªçn d·∫πp fly
    if bodyVelocity then
        bodyVelocity:Destroy()
        bodyVelocity = nil
    end
    
    -- Reset noclip
    if noclipConnection then
        noclipConnection:Disconnect()
    end
    if character then
        for _, part in pairs(character:GetChildren()) do
            if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                part.CanCollide = true
            end
        end
    end
    
    -- Reset invisibility
    if character then
        for _, part in pairs(character:GetChildren()) do
            if part:IsA("BasePart") then
                part.Transparency = 0
            elseif part:IsA("Accessory") then
                for _, accessoryPart in pairs(part:GetChildren()) do
                    if accessoryPart:IsA("BasePart") then
                        accessoryPart.Transparency = 0
                    end
                end
            end
        end
    end
end)

-- Ch·ª©c nƒÉng ƒë√≥ng UI
closeButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)

-- Hi·ªáu ·ª©ng xu·∫•t hi·ªán UI
mainFrame.Size = UDim2.new(0, 0, 0, 0)
local openTween = TweenService:Create(mainFrame,
    TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
    {Size = UDim2.new(0, 350, 0, 450)}
)
openTween:Play()

-- C·∫≠p nh·∫≠t khi character respawn
player.CharacterAdded:Connect(function(newCharacter)
    character = newCharacter
    humanoid = character:WaitForChild("Humanoid")
    rootPart = character:WaitForChild("HumanoidRootPart")
    
    -- Reset t·∫•t c·∫£ tr·∫°ng th√°i khi respawn
    speedEnabled = false
    jumpEnabled = false
    flyEnabled = false
    noclipEnabled = false
    invisibleEnabled = false
    infiniteJumpEnabled = false
    
    if bodyVelocity then
        bodyVelocity:Destroy()
        bodyVelocity = nil
    end
    
    if noclipConnection then
        noclipConnection:Disconnect()
    end
end)

print("üíñ Mila UI ƒë√£ ƒë∆∞·ª£c t·∫£i th√†nh c√¥ng! üíñ")
