-- Roblox Chat UI Script v·ªõi AI th√¥ng minh
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local TextService = game:GetService("TextService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- T·∫°o ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ChatUI"
screenGui.Parent = playerGui
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Main Frame (Chat Window) - Ngang v√† nh·ªè
local mainFrame = Instance.new("Frame")
mainFrame.Name = "ChatFrame"
mainFrame.Parent = screenGui
mainFrame.Size = UDim2.new(0, 500, 0, 280)
mainFrame.Position = UDim2.new(0.5, -250, 0.5, -140)
mainFrame.BackgroundColor3 = Color3.fromRGB(45, 50, 60)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true

-- Corner cho main frame
local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 8)
mainCorner.Parent = mainFrame

-- Header Frame
local headerFrame = Instance.new("Frame")
headerFrame.Name = "Header"
headerFrame.Parent = mainFrame
headerFrame.Size = UDim2.new(1, 0, 0, 40)
headerFrame.Position = UDim2.new(0, 0, 0, 0)
headerFrame.BackgroundColor3 = Color3.fromRGB(35, 40, 50)
headerFrame.BorderSizePixel = 0

-- Header Corner
local headerCorner = Instance.new("UICorner")
headerCorner.CornerRadius = UDim.new(0, 8)
headerCorner.Parent = headerFrame

-- Title Label
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "Title"
titleLabel.Parent = headerFrame
titleLabel.Size = UDim2.new(1, -80, 1, 0)
titleLabel.Position = UDim2.new(0, 10, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "Open chatbot"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextScaled = true
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Font = Enum.Font.GothamBold

-- Minimize Button
local minimizeButton = Instance.new("TextButton")
minimizeButton.Name = "MinimizeButton"
minimizeButton.Parent = headerFrame
minimizeButton.Size = UDim2.new(0, 30, 0, 30)
minimizeButton.Position = UDim2.new(1, -65, 0, 5)
minimizeButton.BackgroundColor3 = Color3.fromRGB(60, 65, 75)
minimizeButton.BorderSizePixel = 0
minimizeButton.Text = "‚ñ°"
minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeButton.TextScaled = true
minimizeButton.Font = Enum.Font.Gotham

local minimizeCorner = Instance.new("UICorner")
minimizeCorner.CornerRadius = UDim.new(0, 4)
minimizeCorner.Parent = minimizeButton

-- Close Button
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Parent = headerFrame
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -30, 0, 5)
closeButton.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
closeButton.BorderSizePixel = 0
closeButton.Text = "√ó"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextScaled = true
closeButton.Font = Enum.Font.GothamBold

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 4)
closeCorner.Parent = closeButton

-- Chat Label
local chatLabel = Instance.new("TextLabel")
chatLabel.Name = "ChatLabel"
chatLabel.Parent = mainFrame
chatLabel.Size = UDim2.new(0, 50, 0, 25)
chatLabel.Position = UDim2.new(0, 10, 0, 50)
chatLabel.BackgroundTransparency = 1
chatLabel.Text = "Chat"
chatLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
chatLabel.TextScaled = true
chatLabel.TextXAlignment = Enum.TextXAlignment.Left
chatLabel.Font = Enum.Font.Gotham

-- Chat Messages ScrollingFrame
local chatScrollFrame = Instance.new("ScrollingFrame")
chatScrollFrame.Name = "ChatScroll"
chatScrollFrame.Parent = mainFrame
chatScrollFrame.Size = UDim2.new(1, -20, 1, -120)
chatScrollFrame.Position = UDim2.new(0, 10, 0, 80)
chatScrollFrame.BackgroundColor3 = Color3.fromRGB(35, 40, 50)
chatScrollFrame.BorderSizePixel = 0
chatScrollFrame.ScrollBarThickness = 8
chatScrollFrame.ScrollBarImageColor3 = Color3.fromRGB(100, 105, 115)

local chatScrollCorner = Instance.new("UICorner")
chatScrollCorner.CornerRadius = UDim.new(0, 6)
chatScrollCorner.Parent = chatScrollFrame

-- UIListLayout cho chat messages
local chatListLayout = Instance.new("UIListLayout")
chatListLayout.Parent = chatScrollFrame
chatListLayout.SortOrder = Enum.SortOrder.LayoutOrder
chatListLayout.Padding = UDim.new(0, 5)

-- Input Frame
local inputFrame = Instance.new("Frame")
inputFrame.Name = "InputFrame"
inputFrame.Parent = mainFrame
inputFrame.Size = UDim2.new(1, -20, 0, 40)
inputFrame.Position = UDim2.new(0, 10, 1, -50)
inputFrame.BackgroundColor3 = Color3.fromRGB(55, 60, 70)
inputFrame.BorderSizePixel = 0

local inputCorner = Instance.new("UICorner")
inputCorner.CornerRadius = UDim.new(0, 6)
inputCorner.Parent = inputFrame

-- Input TextBox
local inputBox = Instance.new("TextBox")
inputBox.Name = "InputBox"
inputBox.Parent = inputFrame
inputBox.Size = UDim2.new(1, -20, 1, -10)
inputBox.Position = UDim2.new(0, 10, 0, 5)
inputBox.BackgroundTransparency = 1
inputBox.Text = ""
inputBox.PlaceholderText = "Type message here..."
inputBox.TextColor3 = Color3.fromRGB(255, 255, 255)
inputBox.PlaceholderColor3 = Color3.fromRGB(150, 155, 165)
inputBox.TextScaled = true
inputBox.TextXAlignment = Enum.TextXAlignment.Left
inputBox.Font = Enum.Font.Gotham
inputBox.ClearTextOnFocus = false

-- Bi·∫øn ƒë·ªÉ theo d√µi tr·∫°ng th√°i
local isMinimized = false
local chatMessages = {}

-- H√†m t·∫°o tin nh·∫Øn chat
function createChatMessage(sender, message, isUser)
    local messageFrame = Instance.new("Frame")
    messageFrame.Name = "Message"
    messageFrame.Parent = chatScrollFrame
    messageFrame.Size = UDim2.new(1, -10, 0, 0)
    messageFrame.BackgroundTransparency = 1
    messageFrame.AutomaticSize = Enum.AutomaticSize.Y
    
    local messageLabel = Instance.new("TextLabel")
    messageLabel.Name = "MessageText"
    messageLabel.Parent = messageFrame
    messageLabel.Size = UDim2.new(1, -10, 0, 0)
    messageLabel.Position = UDim2.new(0, 5, 0, 0)
    messageLabel.BackgroundTransparency = 1
    messageLabel.Text = sender .. ": " .. message
    messageLabel.TextColor3 = isUser and Color3.fromRGB(100, 200, 255) or Color3.fromRGB(255, 255, 255)
    messageLabel.TextXAlignment = Enum.TextXAlignment.Left
    messageLabel.TextYAlignment = Enum.TextYAlignment.Top
    messageLabel.Font = Enum.Font.Gotham
    messageLabel.TextSize = 14
    messageLabel.TextWrapped = true
    messageLabel.AutomaticSize = Enum.AutomaticSize.Y
    
    messageFrame.Size = UDim2.new(1, -10, 0, messageLabel.AbsoluteSize.Y + 5)
    
    -- Scroll xu·ªëng cu·ªëi
    chatScrollFrame.CanvasSize = UDim2.new(0, 0, 0, chatListLayout.AbsoluteContentSize.Y)
    chatScrollFrame.CanvasPosition = Vector2.new(0, chatScrollFrame.AbsoluteCanvasSize.Y)
end

-- H√†m minimize/restore
function toggleMinimize()
    local targetSize = isMinimized and UDim2.new(0, 500, 0, 280) or UDim2.new(0, 500, 0, 40)
    local tween = TweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {Size = targetSize})
    tween:Play()
    isMinimized = not isMinimized
end

-- H√†m ƒë√≥ng chat
function closeChat()
    local tween = TweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {Size = UDim2.new(0, 0, 0, 0)})
    tween:Play()
    tween.Completed:Connect(function()
        screenGui:Destroy()
    end)
end

-- Translation Dictionary
local translations = {
    ["english"] = {
        hello = "Hello! How can I help you?",
        goodbye = "Goodbye! Have a great day!",
        thanks = "You're welcome!",
        help = "I'm here to help you!"
    },
    ["vietnamese"] = {
        hello = "Xin ch√†o! T√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?",
        goodbye = "T·∫°m bi·ªát! Ch√∫c b·∫°n m·ªôt ng√†y t·ªët l√†nh!",
        thanks = "Kh√¥ng c√≥ g√¨!",
        help = "T√¥i ·ªü ƒë√¢y ƒë·ªÉ gi√∫p b·∫°n!"
    },
    ["japanese"] = {
        hello = "„Åì„Çì„Å´„Å°„ÅØÔºÅ‰Ωï„Åã„ÅäÊâã‰ºù„ÅÑ„Åß„Åç„Åæ„Åô„ÅãÔºü",
        goodbye = "„Åï„Çà„ÅÜ„Å™„ÇâÔºÅËâØ„ÅÑ‰∏ÄÊó•„ÇíÔºÅ",
        thanks = "„Å©„ÅÜ„ÅÑ„Åü„Åó„Åæ„Åó„Å¶ÔºÅ",
        help = "„ÅäÊâã‰ºù„ÅÑ„Åó„Åæ„ÅôÔºÅ"
    },
    ["korean"] = {
        hello = "ÏïàÎÖïÌïòÏÑ∏Ïöî! Ïñ¥ÎñªÍ≤å ÎèÑÏôÄÎìúÎ¶¥ÍπåÏöî?",
        goodbye = "ÏïàÎÖïÌûà Í∞ÄÏÑ∏Ïöî! Ï¢ãÏùÄ ÌïòÎ£® ÎêòÏÑ∏Ïöî!",
        thanks = "Ï≤úÎßåÏóêÏöî!",
        help = "ÎèÑÏôÄÎìúÎ¶¨Í≤†ÏäµÎãàÎã§!"
    },
    ["spanish"] = {
        hello = "¬°Hola! ¬øC√≥mo puedo ayudarte?",
        goodbye = "¬°Adi√≥s! ¬°Que tengas un gran d√≠a!",
        thanks = "¬°De nada!",
        help = "¬°Estoy aqu√≠ para ayudarte!"
    },
    ["french"] = {
        hello = "Salut! Comment puis-je vous aider?",
        goodbye = "Au revoir! Passez une excellente journ√©e!",
        thanks = "De rien!",
        help = "Je suis l√† pour vous aider!"
    }
}

-- Advanced AI Logic v·ªõi machine learning simulation
function analyzeMessage(userMessage)
    local msg = string.lower(userMessage)
    local words = {}
    for word in string.gmatch(msg, "%S+") do
        table.insert(words, word)
    end
    
    -- Translation requests
    if string.find(msg, "translate") or string.find(msg, "d·ªãch") or string.find(msg, "Î≤àÏó≠") or string.find(msg, "ÁøªË®≥") then
        return {
            "T√¥i c√≥ th·ªÉ d·ªãch sang: English, Vietnamese, Japanese, Korean, Spanish, French!",
            "B·∫°n mu·ªën d·ªãch c√¢u n√†o? V√≠ d·ª•: 'd·ªãch hello sang ti·∫øng Vi·ªát'",
            "Translation service ready! Which language do you need?",
            "D·ªãch thu·∫≠t l√† specialty c·ªßa t√¥i! H√£y th·ª≠ ƒëi!"
        }
    end
    
    -- Weather and time queries with intelligent responses
    if string.find(msg, "weather") or string.find(msg, "th·ªùi ti·∫øt") or string.find(msg, "rain") or string.find(msg, "sun") then
        return {
            "T√¥i kh√¥ng th·ªÉ check weather realtime, nh∆∞ng b·∫°n c√≥ th·ªÉ d√πng weather app!",
            "Weather affects mood r·∫•t nhi·ªÅu! H√¥m nay b·∫°n c·∫£m th·∫•y th·∫ø n√†o?",
            "Climate change ƒëang impact weather patterns globally!",
            "Favorite season c·ªßa b·∫°n l√† g√¨ v√† t·∫°i sao?"
        }
    end
    
    -- Math and calculation requests
    if string.find(msg, "math") or string.find(msg, "calculate") or string.find(msg, "to√°n") or string.find(msg, "t√≠nh") then
        return {
            "T√¥i c√≥ th·ªÉ gi√∫p basic math! V√≠ d·ª•: 2+2=4, 5*3=15",
            "Mathematics l√† language of universe! B·∫°n th√≠ch m√¥n n√†o nh·∫•t?",
            "Problem-solving in math develops logical thinking!",
            "Calculus, Algebra, hay Geometry - c√°i n√†o interesting nh·∫•t?"
        }
    end
    
    -- Programming and coding
    if string.find(msg, "code") or string.find(msg, "programming") or string.find(msg, "l·∫≠p tr√¨nh") or string.find(msg, "python") or string.find(msg, "javascript") then
        return {
            "Coding l√† superpower c·ªßa th·ªùi ƒë·∫°i! B·∫°n h·ªçc ng√¥n ng·ªØ n√†o?",
            "Debugging l√† 90% of programming! Patience is key!",
            "Open source contribution gi√∫p improve skills r·∫•t nhi·ªÅu!",
            "Algorithm thinking ph√°t tri·ªÉn problem-solving ability!",
            "Version control nh∆∞ Git r·∫•t important cho teamwork!"
        }
    end
    
    -- Food and cooking
    if string.find(msg, "food") or string.find(msg, "eat") or string.find(msg, "ƒë·ªì ƒÉn") or string.find(msg, "hungry") or string.find(msg, "cook") then
        return {
            "Food l√† fuel for brain! Healthy eating = better performance!",
            "Cooking l√† life skill quan tr·ªçng! B·∫°n c√≥ bi·∫øt n·∫•u kh√¥ng?",
            "Favorite cuisine c·ªßa b·∫°n l√† g√¨? T·∫°i sao th√≠ch?",
            "Meal prep helps save time v√† maintain nutrition!",
            "Cultural food experiences broaden worldview!"
        }
    end
    
    -- Travel and places
    if string.find(msg, "travel") or string.find(msg, "trip") or string.find(msg, "du l·ªãch") or string.find(msg, "country") or string.find(msg, "city") then
        return {
            "Travel broadens mind v√† creates memories! Dream destination?",
            "Cultural exchange through travel builds empathy!",
            "Local experiences > tourist traps! Agree?",
            "Language barriers become learning opportunities!",
            "Sustainable travel protects destinations for future!"
        }
    end
    
    -- Books and reading
    if string.find(msg, "book") or string.find(msg, "read") or string.find(msg, "s√°ch") or string.find(msg, "ƒë·ªçc") or string.find(msg, "story") then
        return {
            "Reading expands vocabulary v√† imagination! Favorite genre?",
            "Books vs audiobooks vs ebooks - preference n√†o?",
            "Fiction develops empathy, non-fiction builds knowledge!",
            "Speed reading techniques help consume more content!",
            "Book recommendations based on interests work best!"
        }
    end
    
    -- Greetings with advanced pattern recognition
    if string.find(msg, "hello") or string.find(msg, "hi") or string.find(msg, "ch√†o") or string.find(msg, "xin ch√†o") or 
       string.find(msg, "hey") or string.find(msg, "hola") or string.find(msg, "bonjour") or string.find(msg, "konnichiwa") then
        return {
            "Xin ch√†o! T√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?",
            "Hello! Nice to meet you! üòä",
            "Ch√†o b·∫°n! H√¥m nay th·∫ø n√†o?",
            "Hi there! Ready for an amazing conversation?",
            "¬°Hola! ¬øC√≥mo est√°s hoy?",
            "Bonjour! Comment allez-vous?",
            "„Åì„Çì„Å´„Å°„ÅØÔºÅÂÖÉÊ∞ó„Åß„Åô„ÅãÔºü",
            "ÏïàÎÖïÌïòÏÑ∏Ïöî! Ïò§Îäò Ïñ¥Îñ†ÏÑ∏Ïöî?",
            "Guten Tag! Wie geht es Ihnen?",
            "Ciao! Come stai oggi?"
        }
    end
    
    -- H·ªèi v·ªÅ th·ªùi gian
    if string.find(msg, "time") or string.find(msg, "gi·ªù") or string.find(msg, "th·ªùi gian") then
        return {
            "Hi·ªán t·∫°i t√¥i kh√¥ng th·ªÉ xem ƒë∆∞·ª£c th·ªùi gian ch√≠nh x√°c, nh∆∞ng b·∫°n c√≥ th·ªÉ check tr√™n thi·∫øt b·ªã nh√©!",
            "Th·ªùi gian tr√¥i qua nhanh qu√°! B·∫°n ƒëang l√†m g√¨ v·∫≠y?",
            "Time flies when you're having fun! ‚è∞"
        }
    end
    
    -- H·ªèi v·ªÅ Roblox/Game
    if string.find(msg, "roblox") or string.find(msg, "game") or string.find(msg, "script") or string.find(msg, "code") then
        return {
            "Roblox th·∫≠t tuy·ªát! B·∫°n ƒëang develop game g√¨ kh√¥ng?",
            "Scripting Lua trong Roblox r·∫•t th√∫ v·ªã! C·∫ßn help g√¨ kh√¥ng?",
            "Game development c·∫ßn patience v√† creativity! üéÆ",
            "B·∫°n c√≥ publish game n√†o tr√™n Roblox ch∆∞a?",
            "Studio Roblox c√≥ nhi·ªÅu tool m·∫°nh! B·∫°n d√πng c√°i n√†o nhi·ªÅu nh·∫•t?"
        }
    end
    
    -- H·ªèi v·ªÅ h·ªçc t·∫≠p
    if string.find(msg, "h·ªçc") or string.find(msg, "study") or string.find(msg, "school") or string.find(msg, "b√†i t·∫≠p") then
        return {
            "H·ªçc t·∫≠p quan tr·ªçng! B·∫°n ƒëang h·ªçc m√¥n g√¨ kh√≥ nh·∫•t?",
            "Study smart, not just hard! C√≥ technique n√†o hi·ªáu qu·∫£ kh√¥ng?",
            "Break time c≈©ng c·∫ßn thi·∫øt khi h·ªçc! üìö",
            "B·∫°n c√≥ study group kh√¥ng? H·ªçc nh√≥m c√≥ hi·ªáu qu·∫£ h∆°n!",
            "Motivation h·ªçc t·∫≠p ƒë√¥i khi kh√≥ maintain, nh∆∞ng ƒë·ª´ng b·ªè cu·ªôc!"
        }
    end
    
    -- H·ªèi v·ªÅ c·∫£m x√∫c
    if string.find(msg, "sad") or string.find(msg, "bu·ªìn") or string.find(msg, "upset") or string.find(msg, "stress") then
        return {
            "T√¥i hi·ªÉu c·∫£m gi√°c ƒë√≥. C√≥ g√¨ b·∫°n mu·ªën chia s·∫ª kh√¥ng? üíô",
            "M·ªçi th·ª© s·∫Ω ·ªïn th√¥i! Bad days make good days better!",
            "Take a deep breath. B·∫°n ƒë√£ overcome nhi·ªÅu th·ª© r·ªìi! üí™",
            "C·∫ßn ai ƒë√≥ l·∫Øng nghe kh√¥ng? T√¥i ·ªü ƒë√¢y! üëÇ"
        }
    end
    
    -- H·ªèi v·ªÅ t∆∞∆°ng lai
    if string.find(msg, "future") or string.find(msg, "t∆∞∆°ng lai") or string.find(msg, "dream") or string.find(msg, "∆∞·ªõc m∆°") then
        return {
            "T∆∞∆°ng lai ƒë∆∞·ª£c t·∫°o n√™n t·ª´ nh·ªØng g√¨ b·∫°n l√†m h√¥m nay! ‚ú®",
            "Dreams without action ch·ªâ l√† wishes. Plan v√† execute th√¥i!",
            "B·∫°n c√≥ goals c·ª• th·ªÉ cho nƒÉm nay kh√¥ng?",
            "Future is bright n·∫øu b·∫°n work hard for it! üåü"
        }
    end
    
    -- H·ªèi v·ªÅ AI/Bot
    if string.find(msg, "ai") or string.find(msg, "robot") or string.find(msg, "bot") or string.find(msg, "th√¥ng minh") then
        return {
            "AI ch·ªâ l√† tool ƒë·ªÉ h·ªó tr·ª£, con ng∆∞·ªùi v·∫´n l√† center! ü§ñ",
            "T√¥i c·ªë g·∫Øng h·ªçc v√† improve t·ª´ m·ªói conversation!",
            "Intelligence th·∫≠t s·ª± l√† kh·∫£ nƒÉng adapt v√† learn!",
            "B·∫°n nghƒ© g√¨ v·ªÅ future of AI?"
        }
    end
    
    -- H·ªèi v·ªÅ √¢m nh·∫°c
    if string.find(msg, "music") or string.find(msg, "nh·∫°c") or string.find(msg, "song") or string.find(msg, "b√†i h√°t") then
        return {
            "√Çm nh·∫°c l√† ng√¥n ng·ªØ c·ªßa c·∫£m x√∫c! B·∫°n th√≠ch th·ªÉ lo·∫°i g√¨?",
            "Music therapy th·∫≠t s·ª± c√≥ hi·ªáu qu·∫£! B·∫°n c√≥ playlist favorite kh√¥ng?",
            "H·ªçc nh·∫°c c·ª• n√†o ƒë√≥ c√≥ th√∫ v·ªã kh√¥ng? üéµ",
            "Concert live v√† nghe recording, experience n√†o t·ªët h∆°n?"
        }
    end
    
    -- H·ªèi v·ªÅ th·ªÉ thao
    if string.find(msg, "sport") or string.find(msg, "th·ªÉ thao") or string.find(msg, "football") or string.find(msg, "b√≥ng") then
        return {
            "Th·ªÉ thao t·ªët cho s·ª©c kh·ªèe! B·∫°n ch∆°i m√¥n g√¨?",
            "Team sport hay individual sport, b·∫°n prefer c√°i n√†o?",
            "Regular exercise gi√∫p improve c·∫£ physical l·∫´n mental health!",
            "Favorite athlete c·ªßa b·∫°n l√† ai? T·∫°i sao admire h·ªç?"
        }
    end
    
    -- Default intelligent responses n·∫øu kh√¥ng match
    return nil
end

-- H√†m x·ª≠ l√Ω tin nh·∫Øn v·ªõi AI th√¥ng minh
function sendMessage()
    local message = inputBox.Text
    if message ~= "" then
        createChatMessage("You", message, true)
        inputBox.Text = ""
        
        -- AI ph√¢n t√≠ch tin nh·∫Øn v√† tr·∫£ l·ªùi ph√π h·ª£p
        wait(math.random(1, 2))
        
        local specificResponse = analyzeMessage(message)
        if specificResponse then
            local response = specificResponse[math.random(1, #specificResponse)]
            createChatMessage("Bot", response, false)
        else
            -- Intelligent General Responses (khi kh√¥ng match specific topic)
            local responses = {
                -- Ph·∫£n h·ªìi th√¥ng minh v√† ph√π h·ª£p
                "Th√∫ v·ªã! B·∫°n c√≥ th·ªÉ elaborate th√™m kh√¥ng?",
                "T√¥i hi·ªÉu point c·ªßa b·∫°n. C√≥ experience n√†o li√™n quan kh√¥ng?",
                "That makes sense! B·∫°n ƒë√£ research v·ªÅ ƒëi·ªÅu n√†y ch∆∞a?",
                "Good thinking! Approach n√†y c√≥ pros and cons g√¨?",
                "Perspective hay ƒë·∫•y! C√≥ alternative n√†o kh√°c kh√¥ng?",
                "Valid point! Evidence supporting ƒëi·ªÅu n√†y l√† g√¨?",
                "Insightful! ƒêi·ªÅu n√†y apply trong real life nh∆∞ n√†o?",
                "Logical reasoning! B·∫°n c√≥ examples c·ª• th·ªÉ kh√¥ng?",
                "Analytical thinking t·ªët! Next step s·∫Ω l√† g√¨?",
                "Critical thinking on point! C√≥ contradictions n√†o kh√¥ng?",
                
                -- C√¢u h·ªèi ƒë·ªÉ hi·ªÉu s√¢u h∆°n
                "Interesting! T·∫°i sao b·∫°n l·∫°i nghƒ© v·∫≠y?",
                "Tell me more! Background story l√† g√¨?",
                "Curious! ƒêi·ªÅu n√†y affect b·∫°n nh∆∞ n√†o?",
                "Intriguing! B·∫°n discover ra ƒëi·ªÅu n√†y khi n√†o?",
                "Fascinating! Process thinking c·ªßa b·∫°n ra sao?",
                "Compelling! Evidence n√†o convince b·∫°n nh·∫•t?",
                "Thought-provoking! Implications l√¢u d√†i l√† g√¨?",
                "Mind-opening! B·∫°n c√≥ change perspective kh√¥ng?",
                "Eye-opening! Lesson learned g√¨ t·ª´ ƒëi·ªÅu n√†y?",
                "Enlightening! Impact ƒë·∫øn decision making ra sao?",
                
                -- Ph·∫£n h·ªìi h·ªçc h·ªèi
                "Thanks for sharing! T√¥i h·ªçc ƒë∆∞·ª£c ƒëi·ªÅu m·ªõi!",
                "Valuable insight! ƒêi·ªÅu n√†y broaden perspective t√¥i!",
                "Educational! T√¥i s·∫Ω remember ƒëi·ªÅu n√†y!",
                "Informative! Context n√†y r·∫•t useful!",
                "Knowledge gained! T√¥i appreciate input c·ªßa b·∫°n!",
                "Learning moment! ƒêi·ªÅu n√†y add to database t√¥i!",
                "Wisdom shared! Understanding t√¥i deep h∆°n r·ªìi!",
                "Intellectual exchange! Conversation n√†y meaningful!",
                "Data processed! Information n√†y valuable!",
                "Neural network updated! üß†üí°",
                
                -- Ph·∫£n h·ªìi s√°ng t·∫°o
                "Creative angle! B·∫°n c√≥ brainstorm th√™m ideas kh√¥ng?",
                "Innovative thinking! Out-of-the-box approach!",
                "Original concept! B·∫°n develop idea n√†y nh∆∞ n√†o?",
                "Unique perspective! Fresh take on topic!",
                "Inventive approach! Problem-solving skills t·ªët!",
                "Imaginative! Creativity flows natural v·ªõi b·∫°n!",
                "Artistic mindset! Aesthetic appreciation high!",
                "Visionary thinking! Future-oriented perspective!",
                "Design thinking! User-centric approach!",
                "Innovation potential! Entrepreneurial spirit!",
                
                -- Ph·∫£n h·ªìi khen ng·ª£i c√≥ √Ω nghƒ©a
                "Impressive analysis! Critical thinking skills strong!",
                "Excellent reasoning! Logic chain r·∫•t clear!",
                "Outstanding insight! Depth of understanding profound!",
                "Remarkable observation! Attention to detail t·ªët!",
                "Brilliant connection! Pattern recognition skills!",
                "Exceptional thinking! Complex ideas simplified well!",
                "Superior logic! Argument structure solid!",
                "Advanced reasoning! Abstract thinking ability!",
                "Professional analysis! Research skills evident!",
                "Expert-level insight! Knowledge integration t·ªët!",
                
                -- C√¢u h·ªèi m·ªü r·ªông t∆∞ duy
                "What if scenario kh√°c s·∫Ω ra sao?",
                "How about t·ª´ different angle?",
                "Consider alternative: ƒëi·ªÅu g√¨ s·∫Ω happen?",
                "Hypothetically speaking: best case scenario?",
                "In ideal world: solution ho√†n h·∫£o l√† g√¨?",
                "Playing devil's advocate: counterargument?",
                "From opposing viewpoint: valid concerns g√¨?",
                "Long-term perspective: consequences ra sao?",
                "Bigger picture: context r·ªông h∆°n nh∆∞ n√†o?",
                "Deeper level: root cause th·∫≠t s·ª± l√† g√¨?",
                
                -- Ph·∫£n h·ªìi khuy·∫øn kh√≠ch suy nghƒ©
                "Thought experiment: th·ª≠ approach kh√°c?",
                "Mental model: framework n√†o apply ƒë∆∞·ª£c?",
                "Cognitive bias: c√≥ influence decision kh√¥ng?",
                "Metacognition: thinking about thinking!",
                "Systems thinking: interconnections ra sao?",
                "First principles: fundamental assumptions g√¨?",
                "Occam's razor: simplest explanation l√† g√¨?",
                "Cost-benefit analysis: trade-offs nh∆∞ n√†o?",
                "Risk assessment: potential downsides?",
                "Opportunity cost: alternatives b·ªè l·ª° g√¨?",
                
                -- Ph·∫£n h·ªìi v·ªÅ learning v√† growth
                "Growth mindset! Continuous learning important!",
                "Skill development! Practice makes progress!",
                "Knowledge acquisition! Curiosity drives success!",
                "Intellectual humility! Always room to improve!",
                "Lifelong learning! Adapt and evolve!",
                "Cognitive flexibility! Mental agility!",
                "Information processing! Quality over quantity!",
                "Critical evaluation! Source credibility matters!",
                "Evidence-based thinking! Facts over opinions!",
                "Scientific method! Hypothesis, test, conclude!",
                
                -- Ph·∫£n h·ªìi v·ªÅ problem-solving
                "Problem-solving approach systematic!",
                "Root cause analysis! Dig deeper!",
                "Solution-oriented thinking! Action-focused!",
                "Troubleshooting mindset! Debug process!",
                "Optimization thinking! Efficiency matters!",
                "Resource allocation! Prioritization key!",
                "Constraint identification! Limitations awareness!",
                "Implementation strategy! Execution planning!",
                "Iteration cycle! Continuous improvement!",
                "Feedback loop! Learn and adjust!"
            }
            
            local randomResponse = responses[math.random(1, #responses)]
            createChatMessage("Bot", randomResponse, false)
        end
    end
end

-- K·∫øt n·ªëi events
closeButton.MouseButton1Click:Connect(closeChat)
minimizeButton.MouseButton1Click:Connect(toggleMinimize)
inputBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        sendMessage()
    end
end)

-- Hover effects cho buttons
closeButton.MouseEnter:Connect(function()
    closeButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
end)

closeButton.MouseLeave:Connect(function()
    closeButton.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
end)

minimizeButton.MouseEnter:Connect(function()
    minimizeButton.BackgroundColor3 = Color3.fromRGB(80, 85, 95)
end)

minimizeButton.MouseLeave:Connect(function()
    minimizeButton.BackgroundColor3 = Color3.fromRGB(60, 65, 75)
end)

-- Tin nh·∫Øn ch√†o m·ª´ng
createChatMessage("Bot", "Xin ch√†o! Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi AI Chatbot! ü§ñ", false)
createChatMessage("Bot", "T√¥i c√≥ th·ªÉ tr·∫£ l·ªùi c√¢u h·ªèi v√† tr√≤ chuy·ªán th√¥ng minh v·ªõi b·∫°n!", false)
