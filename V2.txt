-- Mila UI Script for Roblox (Tab Design)
-- T·∫°o b·ªüi: Mila
-- T√≠nh nƒÉng: Speed, Jump, Fly, Noclip, Teleport, Infinite Jump

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Variables
local noclip = false
local infiniteJump = false
local originalWalkSpeed = 16
local originalJumpPower = 50
local jumpConnection
local currentTab = "Home"

-- UI Creation
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MilaUI"
screenGui.Parent = CoreGui
screenGui.ResetOnSpawn = false

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 400, 0, 280)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -140)
mainFrame.BackgroundColor3 = Color3.new(0.95, 0.95, 0.98)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- Round corners for main frame
local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 15)
mainCorner.Parent = mainFrame

-- Top bar (red)
local topBar = Instance.new("Frame")
topBar.Size = UDim2.new(1, 0, 0, 8)
topBar.Position = UDim2.new(0, 0, 0, 0)
topBar.BackgroundColor3 = Color3.new(0.85, 0.4, 0.4)
topBar.BorderSizePixel = 0
topBar.Parent = mainFrame

local topCorner = Instance.new("UICorner")
topCorner.CornerRadius = UDim.new(0, 15)
topCorner.Parent = topBar

-- Hide bottom corners of top bar
local topBarBottom = Instance.new("Frame")
topBarBottom.Size = UDim2.new(1, 0, 0, 8)
topBarBottom.Position = UDim2.new(0, 0, 0, 4)
topBarBottom.BackgroundColor3 = Color3.new(0.85, 0.4, 0.4)
topBarBottom.BorderSizePixel = 0
topBarBottom.Parent = topBar

-- Logo
local logo = Instance.new("ImageLabel")
logo.Size = UDim2.new(0, 30, 0, 30)
logo.Position = UDim2.new(0, 15, 0, 15)
logo.BackgroundColor3 = Color3.new(0.85, 0.4, 0.4)
logo.BorderSizePixel = 0
logo.Parent = mainFrame

local logoCorner = Instance.new("UICorner")
logoCorner.CornerRadius = UDim.new(0, 8)
logoCorner.Parent = logo

local logoText = Instance.new("TextLabel")
logoText.Size = UDim2.new(1, 0, 1, 0)
logoText.BackgroundTransparency = 1
logoText.Text = "üíñ"
logoText.TextColor3 = Color3.new(1, 1, 1)
logoText.TextSize = 16
logoText.Font = Enum.Font.GothamBold
logoText.Parent = logo

-- Close buttons (top right)
local closeArea = Instance.new("Frame")
closeArea.Size = UDim2.new(0, 80, 0, 30)
closeArea.Position = UDim2.new(1, -90, 0, 15)
closeArea.BackgroundTransparency = 1
closeArea.Parent = mainFrame

local minimizeBtn = Instance.new("TextButton")
minimizeBtn.Size = UDim2.new(0, 25, 0, 25)
minimizeBtn.Position = UDim2.new(0, 0, 0, 2)
minimizeBtn.BackgroundColor3 = Color3.new(1, 0.8, 0.4)
minimizeBtn.Text = "-"
minimizeBtn.TextColor3 = Color3.new(1, 1, 1)
minimizeBtn.TextSize = 16
minimizeBtn.Font = Enum.Font.GothamBold
minimizeBtn.Parent = closeArea

local minCorner = Instance.new("UICorner")
minCorner.CornerRadius = UDim.new(1, 0)
minCorner.Parent = minimizeBtn

local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 25, 0, 25)
closeBtn.Position = UDim2.new(0, 30, 0, 2)
closeBtn.BackgroundColor3 = Color3.new(0.85, 0.4, 0.4)
closeBtn.Text = "‚úï"
closeBtn.TextColor3 = Color3.new(1, 1, 1)
closeBtn.TextSize = 12
closeBtn.Font = Enum.Font.GothamBold
closeBtn.Parent = closeArea

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(1, 0)
closeCorner.Parent = closeBtn

-- Toggle Button (when minimized)
local toggleButton = Instance.new("TextButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0, 80, 0, 30)
toggleButton.Position = UDim2.new(0, 10, 0, 10)
toggleButton.BackgroundColor3 = Color3.new(0.85, 0.4, 0.4)
toggleButton.Text = "Mila üíñ"
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.TextSize = 12
toggleButton.Font = Enum.Font.Gotham
toggleButton.Visible = false
toggleButton.Parent = screenGui

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(0, 10)
toggleCorner.Parent = toggleButton

-- Tab Navigation
local tabFrame = Instance.new("Frame")
tabFrame.Size = UDim2.new(1, 0, 0, 40)
tabFrame.Position = UDim2.new(0, 0, 0, 50)
tabFrame.BackgroundTransparency = 1
tabFrame.Parent = mainFrame

local tabs = {"Home", "Script", "Notifications", "Other"}
local tabButtons = {}

for i, tabName in ipairs(tabs) do
    local tabButton = Instance.new("TextButton")
    tabButton.Size = UDim2.new(0.25, -5, 1, 0)
    tabButton.Position = UDim2.new((i-1) * 0.25, (i-1) * 2.5, 0, 0)
    tabButton.BackgroundTransparency = 1
    tabButton.Text = tabName
    tabButton.TextColor3 = tabName == "Home" and Color3.new(0.2, 0.4, 0.8) or Color3.new(0.5, 0.5, 0.5)
    tabButton.TextSize = 12
    tabButton.Font = Enum.Font.Gotham
    tabButton.Parent = tabFrame
    
    -- Tab underline
    local underline = Instance.new("Frame")
    underline.Size = UDim2.new(1, 0, 0, 2)
    underline.Position = UDim2.new(0, 0, 1, 0)
    underline.BackgroundColor3 = Color3.new(0.2, 0.4, 0.8)
    underline.BorderSizePixel = 0
    underline.Visible = tabName == "Home"
    underline.Parent = tabButton
    
    tabButtons[tabName] = {button = tabButton, underline = underline}
end

-- Content Area
local contentArea = Instance.new("Frame")
contentArea.Size = UDim2.new(1, -20, 1, -110)
contentArea.Position = UDim2.new(0, 10, 0, 100)
contentArea.BackgroundTransparency = 1
contentArea.Parent = mainFrame

-- Home Tab Content
local homeContent = Instance.new("ScrollingFrame")
homeContent.Name = "HomeContent"
homeContent.Size = UDim2.new(1, 0, 1, 0)
homeContent.BackgroundTransparency = 1
homeContent.ScrollBarThickness = 6
homeContent.CanvasSize = UDim2.new(0, 0, 0, 300)
homeContent.Parent = contentArea

-- Other Tab Contents (placeholder)
local scriptContent = Instance.new("ScrollingFrame")
scriptContent.Name = "ScriptContent"
scriptContent.Size = UDim2.new(1, 0, 1, 0)
scriptContent.BackgroundTransparency = 1
scriptContent.ScrollBarThickness = 6
scriptContent.CanvasSize = UDim2.new(0, 0, 0, 650)
scriptContent.Visible = false
scriptContent.Parent = contentArea

-- Search Box inside Script Tab
local searchFrame = Instance.new("Frame")
searchFrame.Size = UDim2.new(1, -20, 0, 35)
searchFrame.Position = UDim2.new(0, 10, 0, 10)
searchFrame.BackgroundColor3 = Color3.new(1, 1, 1)
searchFrame.BorderSizePixel = 0
searchFrame.Parent = scriptContent

local searchCorner = Instance.new("UICorner")
searchCorner.CornerRadius = UDim.new(0, 8)
searchCorner.Parent = searchFrame

local searchBox = Instance.new("TextBox")
searchBox.Size = UDim2.new(1, -40, 1, -10)
searchBox.Position = UDim2.new(0, 10, 0, 5)
searchBox.BackgroundTransparency = 1
searchBox.Text = ""
searchBox.PlaceholderText = "üîç Search scripts..."
searchBox.TextColor3 = Color3.new(0.2, 0.2, 0.2)
searchBox.PlaceholderColor3 = Color3.new(0.6, 0.6, 0.6)
searchBox.TextSize = 12
searchBox.Font = Enum.Font.Gotham
searchBox.TextXAlignment = Enum.TextXAlignment.Left
searchBox.Parent = searchFrame

-- Clear Search Button
local clearButton = Instance.new("TextButton")
clearButton.Size = UDim2.new(0, 25, 0, 25)
clearButton.Position = UDim2.new(1, -30, 0, 5)
clearButton.BackgroundColor3 = Color3.new(0.9, 0.9, 0.9)
clearButton.Text = "‚úï"
clearButton.TextColor3 = Color3.new(0.5, 0.5, 0.5)
clearButton.TextSize = 12
clearButton.Font = Enum.Font.Gotham
clearButton.Parent = searchFrame

local clearCorner = Instance.new("UICorner")
clearCorner.CornerRadius = UDim.new(1, 0)
clearCorner.Parent = clearButton

-- Script List Data
local scriptList = {
    {name = "Infinity Yield", url = "https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"},
    {name = "Airflow", url = "https://api.luarmor.net/files/v3/loaders/255ac567ced3dcb9e69aa7e44c423f19.lua"},
    {name = "H4X", url = "https://raw.githubusercontent.com/H4xScripts/Loader/refs/heads/main/loader.lua"},
    {name = "R15 Emote", url = "https://gist.githubusercontent.com/RedZenXYZ/3da6af1961efa275de6c3c2a6dbace03/raw/bb027f99cec0ea48ef9c5eabfb9116ddff20633d/FE%2520Emotes%2520Gui"},
    {name = "Skull Hub", url = "https://raw.githubusercontent.com/hungquan99/SkullHub/main/loader.lua"},
    {name = "Nameless Admin", url = "https://rawscripts.net/raw/Universal-Script-nameless-admin-15646"},
    {name = "NatHub", url = "https://raw.githubusercontent.com/ArdyBotzz/NatHub/refs/heads/master/NatHub.lua"},
    {name = "Arceus X", url = "https://raw.githubusercontent.com/AZYsGithub/chillz-workshop/main/Arceus%20X%20V3"},
    {name = "Shader", url = "https://raw.githubusercontent.com/randomstring0/pshade-ultimate/refs/heads/main/src/cd.lua"},
    {name = "Native", url = "https://getnative.cc/script/loader"},
    {name = "Nolag", url = "https://raw.githubusercontent.com/NoLag-id/No-Lag-HUB/refs/heads/main/Loader/LoaderV1.lua"},
    {name = "Limit Hub", url = "https://raw.githubusercontent.com/FakeModz/LimitHub/refs/heads/main/LimitHub_Loader.lua"},
    {name = "Speed Hub X", url = "https://rawscripts.net/raw/Grow-a-Garden-Speed-Hub-X-Keyless-38062"},
    {name = "Lunor", url = "https://lunor.dev/loader"},
    {name = "ThunderZ", url = "https://raw.githubusercontent.com/ThundarZ/Welcome/refs/heads/main/Main/GaG/Main.lua"}
}

local allScriptFrames = {}

-- Create Script Buttons
local function createScriptButton(scriptData, position, parent)
    parent = parent or scriptContent
    
    local scriptFrame = Instance.new("Frame")
    scriptFrame.Size = UDim2.new(1, -20, 0, 35)
    scriptFrame.Position = position
    scriptFrame.BackgroundColor3 = Color3.new(0.95, 0.96, 0.98)
    scriptFrame.BorderSizePixel = 0
    scriptFrame.Parent = parent
    
    local frameCorner = Instance.new("UICorner")
    frameCorner.CornerRadius = UDim.new(0, 8)
    frameCorner.Parent = scriptFrame
    
    local scriptButton = Instance.new("TextButton")
    scriptButton.Size = UDim2.new(1, -10, 1, -10)
    scriptButton.Position = UDim2.new(0, 5, 0, 5)
    scriptButton.BackgroundTransparency = 1
    scriptButton.Text = "üöÄ " .. scriptData.name
    scriptButton.TextColor3 = Color3.new(0.2, 0.3, 0.6)
    scriptButton.TextSize = 12
    scriptButton.Font = Enum.Font.GothamBold
    scriptButton.TextXAlignment = Enum.TextXAlignment.Left
    scriptButton.Parent = scriptFrame
    
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Size = UDim2.new(0, 80, 1, 0)
    statusLabel.Position = UDim2.new(1, -85, 0, 0)
    statusLabel.BackgroundTransparency = 1
    statusLabel.Text = "Ready"
    statusLabel.TextColor3 = Color3.new(0.4, 0.7, 0.4)
    statusLabel.TextSize = 10
    statusLabel.Font = Enum.Font.Gotham
    statusLabel.Visible = false
    statusLabel.Parent = scriptFrame
    
    -- Store reference for search
    scriptFrame.ScriptData = scriptData
    table.insert(allScriptFrames, scriptFrame)
    
    -- Loading animation
    local function animateLoading()
        statusLabel.Visible = true
        statusLabel.Text = "Loading..."
        statusLabel.TextColor3 = Color3.new(0.8, 0.6, 0.2)
        
        -- Animate frame color
        local tween = TweenService:Create(scriptFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad), {
            BackgroundColor3 = Color3.new(0.9, 0.93, 1)
        })
        tween:Play()
        
        -- Success animation
        wait(0.5)
        statusLabel.Text = "Success!"
        statusLabel.TextColor3 = Color3.new(0.2, 0.8, 0.2)
        
        local successTween = TweenService:Create(scriptFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad), {
            BackgroundColor3 = Color3.new(0.9, 1, 0.9)
        })
        successTween:Play()
        
        -- Reset after 2 seconds
        wait(2)
        statusLabel.Visible = false
        local resetTween = TweenService:Create(scriptFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad), {
            BackgroundColor3 = Color3.new(0.95, 0.96, 0.98)
        })
        resetTween:Play()
    end
    
    scriptButton.MouseButton1Click:Connect(function()
        spawn(function()
            animateLoading()
            pcall(function()
                if scriptData.name == "R15 Emote" then
                    loadstring(game:HttpGetAsync(scriptData.url))()
                else
                    loadstring(game:HttpGet(scriptData.url))()
                end
            end)
        end)
    end)
    
    -- Hover effect
    scriptButton.MouseEnter:Connect(function()
        local hoverTween = TweenService:Create(scriptFrame, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {
            BackgroundColor3 = Color3.new(0.9, 0.93, 1)
        })
        hoverTween:Play()
    end)
    
    scriptButton.MouseLeave:Connect(function()
        if not statusLabel.Visible then
            local leaveTween = TweenService:Create(scriptFrame, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {
                BackgroundColor3 = Color3.new(0.95, 0.96, 0.98)
            })
            leaveTween:Play()
        end
    end)
    
    return scriptFrame
end

-- Create all script buttons initially
for i, scriptData in ipairs(scriptList) do
    createScriptButton(scriptData, UDim2.new(0, 10, 0, (i-1) * 40 + 55))
end

-- Search Function
local function performSearch()
    local query = string.lower(searchBox.Text)
    local visibleCount = 0
    
    for _, frame in pairs(allScriptFrames) do
        local scriptName = string.lower(frame.ScriptData.name)
        if query == "" or string.find(scriptName, query) then
            frame.Visible = true
            frame.Position = UDim2.new(0, 10, 0, visibleCount * 40 + 55)
            visibleCount = visibleCount + 1
        else
            frame.Visible = false
        end
    end
    
    -- Update canvas size
    scriptContent.CanvasSize = UDim2.new(0, 0, 0, math.max(visibleCount * 40 + 60, 200))
end

-- Search events
searchBox.Changed:Connect(function()
    performSearch()
end)

clearButton.MouseButton1Click:Connect(function()
    searchBox.Text = ""
    performSearch()
end)

local notifContent = Instance.new("Frame")
notifContent.Name = "NotifContent"
notifContent.Size = UDim2.new(1, 0, 1, 0)
notifContent.BackgroundTransparency = 1
notifContent.Visible = false
notifContent.Parent = contentArea

local notifLabel = Instance.new("TextLabel")
notifLabel.Size = UDim2.new(1, 0, 1, 0)
notifLabel.BackgroundTransparency = 1
notifLabel.Text = "Notifications Tab - Coming Soon!"
notifLabel.TextColor3 = Color3.new(0.5, 0.5, 0.5)
notifLabel.TextSize = 16
notifLabel.Font = Enum.Font.Gotham
notifLabel.Parent = notifContent

local otherContent = Instance.new("Frame")
otherContent.Name = "OtherContent"
otherContent.Size = UDim2.new(1, 0, 1, 0)
otherContent.BackgroundTransparency = 1
otherContent.Visible = false
otherContent.Parent = contentArea

local otherLabel = Instance.new("TextLabel")
otherLabel.Size = UDim2.new(1, 0, 1, 0)
otherLabel.BackgroundTransparency = 1
otherLabel.Text = "Other Tab - Coming Soon!"
otherLabel.TextColor3 = Color3.new(0.5, 0.5, 0.5)
otherLabel.TextSize = 16
otherLabel.Font = Enum.Font.Gotham
otherLabel.Parent = otherContent

-- Player List (small, integrated)
local playerFrame = Instance.new("Frame")
playerFrame.Name = "PlayerFrame"
playerFrame.Size = UDim2.new(0, 180, 0, 200)
playerFrame.Position = UDim2.new(1, 10, 0, 0)
playerFrame.BackgroundColor3 = Color3.new(0.95, 0.95, 0.98)
playerFrame.BorderSizePixel = 0
playerFrame.Visible = false
playerFrame.Parent = mainFrame

local playerFrameCorner = Instance.new("UICorner")
playerFrameCorner.CornerRadius = UDim.new(0, 10)
playerFrameCorner.Parent = playerFrame

local playerTitle = Instance.new("TextLabel")
playerTitle.Size = UDim2.new(1, 0, 0, 25)
playerTitle.BackgroundTransparency = 1
playerTitle.Text = "üë• Players"
playerTitle.TextColor3 = Color3.new(0.3, 0.3, 0.3)
playerTitle.TextSize = 12
playerTitle.Font = Enum.Font.GothamBold
playerTitle.Parent = playerFrame

local playerList = Instance.new("ScrollingFrame")
playerList.Size = UDim2.new(1, -10, 1, -30)
playerList.Position = UDim2.new(0, 5, 0, 25)
playerList.BackgroundColor3 = Color3.new(1, 1, 1)
playerList.ScrollBarThickness = 3
playerList.Parent = playerFrame

local playerListCorner = Instance.new("UICorner")
playerListCorner.CornerRadius = UDim.new(0, 5)
playerListCorner.Parent = playerList

local listLayout = Instance.new("UIListLayout")
listLayout.Padding = UDim.new(0, 2)
listLayout.Parent = playerList

-- Button Creation Function
local function createButton(name, text, position, callback, parent)
    parent = parent or homeContent
    
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(0, 100, 0, 25)
    button.Position = position
    button.BackgroundColor3 = Color3.new(0.85, 0.9, 1)
    button.Text = text
    button.TextColor3 = Color3.new(0.2, 0.3, 0.6)
    button.TextSize = 10
    button.Font = Enum.Font.Gotham
    button.Parent = parent
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 5)
    buttonCorner.Parent = button
    
    button.MouseButton1Click:Connect(callback)
    
    -- Hover effect
    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = Color3.new(0.8, 0.85, 1)
    end)
    
    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = Color3.new(0.85, 0.9, 1)
    end)
    
    return button
end

-- Speed/Jump Controls
local speedLabel = Instance.new("TextLabel")
speedLabel.Size = UDim2.new(0, 150, 0, 15)
speedLabel.Position = UDim2.new(0, 10, 0, 10)
speedLabel.BackgroundTransparency = 1
speedLabel.Text = "Speed: 16"
speedLabel.TextColor3 = Color3.new(0.3, 0.3, 0.3)
speedLabel.TextSize = 10
speedLabel.Font = Enum.Font.Gotham
speedLabel.Parent = homeContent

local speedSlider = Instance.new("TextBox")
speedSlider.Size = UDim2.new(0, 60, 0, 20)
speedSlider.Position = UDim2.new(0, 10, 0, 30)
speedSlider.BackgroundColor3 = Color3.new(1, 1, 1)
speedSlider.Text = "16"
speedSlider.TextColor3 = Color3.new(0, 0, 0)
speedSlider.TextSize = 10
speedSlider.PlaceholderText = "16"
speedSlider.Parent = homeContent

local speedCorner = Instance.new("UICorner")
speedCorner.CornerRadius = UDim.new(0, 3)
speedCorner.Parent = speedSlider

local jumpLabel = Instance.new("TextLabel")
jumpLabel.Size = UDim2.new(0, 150, 0, 15)
jumpLabel.Position = UDim2.new(0, 200, 0, 10)
jumpLabel.BackgroundTransparency = 1
jumpLabel.Text = "Jump: 50"
jumpLabel.TextColor3 = Color3.new(0.3, 0.3, 0.3)
jumpLabel.TextSize = 10
jumpLabel.Font = Enum.Font.Gotham
jumpLabel.Parent = homeContent

local jumpSlider = Instance.new("TextBox")
jumpSlider.Size = UDim2.new(0, 60, 0, 20)
jumpSlider.Position = UDim2.new(0, 200, 0, 30)
jumpSlider.BackgroundColor3 = Color3.new(1, 1, 1)
jumpSlider.Text = "50"
jumpSlider.TextColor3 = Color3.new(0, 0, 0)
jumpSlider.TextSize = 10
jumpSlider.PlaceholderText = "50"
jumpSlider.Parent = homeContent

local jumpCorner = Instance.new("UICorner")
jumpCorner.CornerRadius = UDim.new(0, 3)
jumpCorner.Parent = jumpSlider

-- Functions
local function updatePlayerList()
    for _, child in pairs(playerList:GetChildren()) do
        if child:IsA("Frame") then
            child:Destroy()
        end
    end
    
    for _, targetPlayer in pairs(Players:GetPlayers()) do
        if targetPlayer ~= player then
            local playerContainer = Instance.new("Frame")
            playerContainer.Size = UDim2.new(1, 0, 0, 35)
            playerContainer.BackgroundColor3 = Color3.new(0.98, 0.98, 0.98)
            playerContainer.Parent = playerList
            
            local containerCorner = Instance.new("UICorner")
            containerCorner.CornerRadius = UDim.new(0, 3)
            containerCorner.Parent = playerContainer
            
            local playerName = Instance.new("TextLabel")
            playerName.Size = UDim2.new(1, 0, 0, 15)
            playerName.Position = UDim2.new(0, 5, 0, 2)
            playerName.BackgroundTransparency = 1
            playerName.Text = targetPlayer.Name
            playerName.TextSize = 9
            playerName.Font = Enum.Font.Gotham
            playerName.TextColor3 = Color3.new(0.2, 0.2, 0.2)
            playerName.TextXAlignment = Enum.TextXAlignment.Left
            playerName.Parent = playerContainer
            
            local tpBtn = Instance.new("TextButton")
            tpBtn.Size = UDim2.new(0, 35, 0, 15)
            tpBtn.Position = UDim2.new(0, 5, 0, 17)
            tpBtn.BackgroundColor3 = Color3.new(0.7, 0.9, 1)
            tpBtn.Text = "TP"
            tpBtn.TextSize = 8
            tpBtn.Font = Enum.Font.Gotham
            tpBtn.TextColor3 = Color3.new(0, 0.3, 0.6)
            tpBtn.Parent = playerContainer
            
            local viewBtn = Instance.new("TextButton")
            viewBtn.Size = UDim2.new(0, 35, 0, 15)
            viewBtn.Position = UDim2.new(0, 45, 0, 17)
            viewBtn.BackgroundColor3 = Color3.new(1, 0.9, 0.7)
            viewBtn.Text = "View"
            viewBtn.TextSize = 8
            viewBtn.Font = Enum.Font.Gotham
            viewBtn.TextColor3 = Color3.new(0.6, 0.3, 0)
            viewBtn.Parent = playerContainer
            
            local tpCorner = Instance.new("UICorner")
            tpCorner.CornerRadius = UDim.new(0, 2)
            tpCorner.Parent = tpBtn
            
            local viewCorner = Instance.new("UICorner")
            viewCorner.CornerRadius = UDim.new(0, 2)
            viewCorner.Parent = viewBtn
            
            tpBtn.MouseButton1Click:Connect(function()
                if targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    character.HumanoidRootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame
                end
            end)
            
            viewBtn.MouseButton1Click:Connect(function()
                if targetPlayer.Character and targetPlayer.Character:FindFirstChild("Humanoid") then
                    workspace.CurrentCamera.CameraSubject = targetPlayer.Character.Humanoid
                end
            end)
        end
    end
    
    playerList.CanvasSize = UDim2.new(0, 0, 0, (#Players:GetPlayers() - 1) * 37)
end

local function switchTab(tabName)
    currentTab = tabName
    
    -- Update tab buttons
    for name, tabData in pairs(tabButtons) do
        if name == tabName then
            tabData.button.TextColor3 = Color3.new(0.2, 0.4, 0.8)
            tabData.underline.Visible = true
        else
            tabData.button.TextColor3 = Color3.new(0.5, 0.5, 0.5)
            tabData.underline.Visible = false
        end
    end
    
    -- Update content visibility
    homeContent.Visible = tabName == "Home"
    scriptContent.Visible = tabName == "Script"
    notifContent.Visible = tabName == "Notifications"
    otherContent.Visible = tabName == "Other"
end

local function toggleNoclip()
    noclip = not noclip
    if noclip then
        local connection
        connection = RunService.Stepped:Connect(function()
            if not noclip then
                connection:Disconnect()
                return
            end
            for _, part in pairs(character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end)
    else
        for _, part in pairs(character:GetChildren()) do
            if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                part.CanCollide = true
            end
        end
    end
end

local function toggleInfiniteJump()
    infiniteJump = not infiniteJump
    if infiniteJump then
        jumpConnection = UserInputService.JumpRequest:Connect(function()
            if character and character:FindFirstChild("Humanoid") then
                character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end)
    else
        if jumpConnection then
            jumpConnection:Disconnect()
            jumpConnection = nil
        end
    end
end

local function resetCamera()
    workspace.CurrentCamera.CameraSubject = character.Humanoid
end

local function loadFlyScript()
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GhostPlayer352/Test4/main/Vehicle%20Fly%20Gui"))()
    end)
end

-- Create Home Tab Buttons (2x3 grid)
createButton("SpeedButton", "üèÉ Speed", UDim2.new(0, 10, 0, 60), function()
    local speed = tonumber(speedSlider.Text) or 16
    humanoid.WalkSpeed = speed
    speedLabel.Text = "Speed: " .. speed
end)

createButton("JumpButton", "ü¶ò Jump", UDim2.new(0, 120, 0, 60), function()
    local jump = tonumber(jumpSlider.Text) or 50
    humanoid.JumpPower = jump
    jumpLabel.Text = "Jump: " .. jump
end)

createButton("NoclipButton", "üëª Noclip", UDim2.new(0, 230, 0, 60), function()
    toggleNoclip()
end)

createButton("FlyButton", "üïäÔ∏è Fly", UDim2.new(0, 10, 0, 95), function()
    loadFlyScript()
end)

createButton("InfiniteJumpButton", "‚ôæÔ∏è Inf Jump", UDim2.new(0, 120, 0, 95), function()
    toggleInfiniteJump()
end)

createButton("TeleportButton", "üìç Players", UDim2.new(0, 230, 0, 95), function()
    playerFrame.Visible = not playerFrame.Visible
    if playerFrame.Visible then
        updatePlayerList()
    end
end)

createButton("CameraButton", "üì∑ Reset Cam", UDim2.new(0, 10, 0, 130), function()
    resetCamera()
end)

createButton("ResetButton", "üîÑ Reset All", UDim2.new(0, 120, 0, 130), function()
    humanoid.WalkSpeed = originalWalkSpeed
    humanoid.JumpPower = originalJumpPower
    noclip = false
    infiniteJump = false
    if jumpConnection then
        jumpConnection:Disconnect()
        jumpConnection = nil
    end
    speedSlider.Text = "16"
    jumpSlider.Text = "50"
    speedLabel.Text = "Speed: 16"
    jumpLabel.Text = "Jump: 50"
    playerFrame.Visible = false
    resetCamera()
    
    for _, part in pairs(character:GetChildren()) do
        if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
            part.CanCollide = true
        end
    end
end)

-- Tab button events
for tabName, tabData in pairs(tabButtons) do
    tabData.button.MouseButton1Click:Connect(function()
        switchTab(tabName)
    end)
end

-- Close/Toggle functionality
closeBtn.MouseButton1Click:Connect(function()
    mainFrame.Visible = false
    toggleButton.Visible = true
    playerFrame.Visible = false
end)

minimizeBtn.MouseButton1Click:Connect(function()
    mainFrame.Visible = false
    toggleButton.Visible = true
    playerFrame.Visible = false
end)

toggleButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = true
    toggleButton.Visible = false
end)

-- Keyboard shortcut
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.RightShift then
        if mainFrame.Visible then
            mainFrame.Visible = false
            toggleButton.Visible = true
            playerFrame.Visible = false
        else
            mainFrame.Visible = true
            toggleButton.Visible = false
        end
    end
end)

-- Character respawn handling
player.CharacterAdded:Connect(function(newCharacter)
    character = newCharacter
    humanoid = character:WaitForChild("Humanoid")
    noclip = false
    infiniteJump = false
    if jumpConnection then
        jumpConnection:Disconnect()
        jumpConnection = nil
    end
    wait(1)
    humanoid.WalkSpeed = originalWalkSpeed
    humanoid.JumpPower = originalJumpPower
end)

print("Mila UI (Tab Design) ƒë√£ ƒë∆∞·ª£c t·∫£i th√†nh c√¥ng! üíñ")
print("Nh·∫•n Right Shift ƒë·ªÉ b·∫≠t/t·∫Øt UI")