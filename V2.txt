-- Mila UI - Phi√™n b·∫£n g·ªçn
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Variables
local noclip = false
local infiniteJump = false
local jumpConnection

-- UI Creation
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MilaUI"
screenGui.Parent = CoreGui

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 450, 0, 350)
mainFrame.Position = UDim2.new(0.5, -225, 0.5, -175)
mainFrame.BackgroundColor3 = Color3.new(0.9, 0.95, 1)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 20)
corner.Parent = mainFrame

-- Border
local border = Instance.new("Frame")
border.Size = UDim2.new(1, 6, 1, 6)
border.Position = UDim2.new(0, -3, 0, -3)
border.BackgroundColor3 = Color3.new(0.3, 0.5, 1)
border.Parent = mainFrame

local borderCorner = Instance.new("UICorner")
borderCorner.CornerRadius = UDim.new(0, 23)
borderCorner.Parent = border

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 50)
title.Position = UDim2.new(0, 0, 0, 10)
title.BackgroundTransparency = 1
title.Text = "üíñ Mila UI üíñ"
title.TextColor3 = Color3.new(0.2, 0.4, 0.8)
title.TextSize = 24
title.Font = Enum.Font.GothamBold
title.Parent = mainFrame

-- Close Button
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -40, 0, 10)
closeButton.BackgroundColor3 = Color3.new(1, 0.5, 0.5)
closeButton.Text = "‚úï"
closeButton.TextColor3 = Color3.new(1, 1, 1)
closeButton.TextSize = 18
closeButton.Font = Enum.Font.GothamBold
closeButton.Parent = mainFrame

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 15)
closeCorner.Parent = closeButton

-- Tab Frame
local tabFrame = Instance.new("Frame")
tabFrame.Size = UDim2.new(1, -20, 0, 40)
tabFrame.Position = UDim2.new(0, 10, 0, 60)
tabFrame.BackgroundTransparency = 1
tabFrame.Parent = mainFrame

-- Tabs
local tabs = {"Home", "Script", "Th√¥ng b√°o", "Kh√°c"}
local tabButtons = {}
local currentTab = "Script"

-- Create tab buttons
for i, tabName in ipairs(tabs) do
    local tabButton = Instance.new("TextButton")
    tabButton.Size = UDim2.new(0.25, -5, 1, 0)
    tabButton.Position = UDim2.new((i-1) * 0.25, 2.5, 0, 0)
    tabButton.BackgroundColor3 = tabName == "Script" and Color3.new(0.3, 0.5, 1) or Color3.new(0.8, 0.8, 0.8)
    tabButton.Text = tabName
    tabButton.TextColor3 = tabName == "Script" and Color3.new(1, 1, 1) or Color3.new(0.4, 0.4, 0.4)
    tabButton.TextSize = 14
    tabButton.Font = Enum.Font.Gotham
    tabButton.Parent = tabFrame

    local tabCorner = Instance.new("UICorner")
    tabCorner.CornerRadius = UDim.new(0, 8)
    tabCorner.Parent = tabButton

    -- Add underline for active tab
    if tabName == "Script" then
        local underline = Instance.new("Frame")
        underline.Size = UDim2.new(1, 0, 0, 2)
        underline.Position = UDim2.new(0, 0, 1, -2)
        underline.BackgroundColor3 = Color3.new(0.3, 0.5, 1)
        underline.BorderSizePixel = 0
        underline.Parent = tabButton
    end

    tabButtons[tabName] = tabButton
end

-- Content Frame
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, -20, 1, -120)
contentFrame.Position = UDim2.new(0, 10, 0, 110)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = mainFrame

-- Tab Contents
local homeContent = Instance.new("Frame")
homeContent.Size = UDim2.new(1, 0, 1, 0)
homeContent.BackgroundTransparency = 1
homeContent.Visible = false
homeContent.Parent = contentFrame

local scriptContent = Instance.new("Frame")
scriptContent.Size = UDim2.new(1, 0, 1, 0)
scriptContent.BackgroundTransparency = 1
scriptContent.Visible = true
scriptContent.Parent = contentFrame

local infoContent = Instance.new("Frame")
infoContent.Size = UDim2.new(1, 0, 1, 0)
infoContent.BackgroundTransparency = 1
infoContent.Visible = false
infoContent.Parent = contentFrame

local otherContent = Instance.new("Frame")
otherContent.Size = UDim2.new(1, 0, 1, 0)
otherContent.BackgroundTransparency = 1
otherContent.Visible = false
otherContent.Parent = contentFrame

-- Functions
local function createButton(parent, text, position, size, callback)
    local button = Instance.new("TextButton")
    button.Size = size or UDim2.new(0, 120, 0, 35)
    button.Position = position
    button.BackgroundColor3 = Color3.new(0.7, 0.8, 1)
    button.Text = text
    button.TextColor3 = Color3.new(0.2, 0.3, 0.6)
    button.TextSize = 14
    button.Font = Enum.Font.Gotham
    button.Parent = parent

    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 10)
    buttonCorner.Parent = button

    button.MouseButton1Click:Connect(callback)
    return button
end

local function switchTab(tabName)
    currentTab = tabName

    -- Update tab buttons and underlines
    for name, button in pairs(tabButtons) do
        -- Remove existing underlines
        for _, child in pairs(button:GetChildren()) do
            if child:IsA("Frame") and child.Size.Y.Offset == 2 then
                child:Destroy()
            end
        end

        if name == tabName then
            button.BackgroundColor3 = Color3.new(0.3, 0.5, 1)
            button.TextColor3 = Color3.new(1, 1, 1)
            
            -- Add underline
            local underline = Instance.new("Frame")
            underline.Size = UDim2.new(1, 0, 0, 2)
            underline.Position = UDim2.new(0, 0, 1, -2)
            underline.BackgroundColor3 = Color3.new(0.3, 0.5, 1)
            underline.BorderSizePixel = 0
            underline.Parent = button
        else
            button.BackgroundColor3 = Color3.new(0.8, 0.8, 0.8)
            button.TextColor3 = Color3.new(0.4, 0.4, 0.4)
        end
    end

    -- Update content visibility
    homeContent.Visible = (tabName == "Home")
    scriptContent.Visible = (tabName == "Script")
    infoContent.Visible = (tabName == "Th√¥ng b√°o")
    otherContent.Visible = (tabName == "Kh√°c")
end

local function toggleNoclip()
    noclip = not noclip
    if noclip then
        local connection = RunService.Stepped:Connect(function()
            if not noclip then return end
            for _, part in pairs(character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end)
    end
end

local function toggleInfiniteJump()
    infiniteJump = not infiniteJump
    if infiniteJump then
        jumpConnection = UserInputService.JumpRequest:Connect(function()
            if character:FindFirstChild("Humanoid") then
                character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end)
    elseif jumpConnection then
        jumpConnection:Disconnect()
    end
end

-- Tab connections
for tabName, button in pairs(tabButtons) do
    button.MouseButton1Click:Connect(function()
        switchTab(tabName)
    end)
end

-- Home Content
local speedBox = Instance.new("TextBox")
speedBox.Size = UDim2.new(0, 80, 0, 30)
speedBox.Position = UDim2.new(0, 10, 0, 10)
speedBox.BackgroundColor3 = Color3.new(1, 1, 1)
speedBox.Text = "16"
speedBox.PlaceholderText = "Speed"
speedBox.TextSize = 14
speedBox.Parent = homeContent

local speedCorner = Instance.new("UICorner")
speedCorner.CornerRadius = UDim.new(0, 5)
speedCorner.Parent = speedBox

createButton(homeContent, "üèÉ Speed", UDim2.new(0, 100, 0, 10), UDim2.new(0, 100, 0, 30), function()
    humanoid.WalkSpeed = tonumber(speedBox.Text) or 16
end)

createButton(homeContent, "ü¶ò Jump", UDim2.new(0, 210, 0, 10), UDim2.new(0, 100, 0, 30), function()
    humanoid.JumpPower = 50
end)

createButton(homeContent, "üëª Noclip", UDim2.new(0, 10, 0, 50), UDim2.new(0, 100, 0, 30), function()
    toggleNoclip()
end)

createButton(homeContent, "‚ôæÔ∏è Inf Jump", UDim2.new(0, 120, 0, 50), UDim2.new(0, 100, 0, 30), function()
    toggleInfiniteJump()
end)

createButton(homeContent, "üïäÔ∏è Fly", UDim2.new(0, 230, 0, 50), UDim2.new(0, 100, 0, 30), function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/GhostPlayer352/Test4/main/Vehicle%20Fly%20Gui"))()
end)

-- Script Content
local scriptLabel = Instance.new("TextLabel")
scriptLabel.Size = UDim2.new(1, 0, 1, 0)
scriptLabel.BackgroundTransparency = 1
scriptLabel.Text = "üìú Script Hub\n\nC√°c script s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y..."
scriptLabel.TextColor3 = Color3.new(0.2, 0.4, 0.8)
scriptLabel.TextSize = 16
scriptLabel.Font = Enum.Font.Gotham
scriptLabel.TextYAlignment = Enum.TextYAlignment.Top
scriptLabel.Parent = scriptContent

-- Info Content
local infoLabel = Instance.new("TextLabel")
infoLabel.Size = UDim2.new(1, 0, 1, 0)
infoLabel.BackgroundTransparency = 1
infoLabel.Text = "üì¢ Th√¥ng b√°o:\n\n‚Ä¢ Mila UI v2.0\n‚Ä¢ Giao di·ªán m·ªõi\n‚Ä¢ T·ªëi ∆∞u h√≥a"
infoLabel.TextColor3 = Color3.new(0.2, 0.4, 0.8)
infoLabel.TextSize = 14
infoLabel.Font = Enum.Font.Gotham
infoLabel.TextYAlignment = Enum.TextYAlignment.Top
infoLabel.Parent = infoContent

-- Other Content
local otherLabel = Instance.new("TextLabel")
otherLabel.Size = UDim2.new(1, 0, 1, 0)
otherLabel.BackgroundTransparency = 1
otherLabel.Text = "‚öôÔ∏è Kh√°c:\n\nT√≠nh nƒÉng kh√°c..."
otherLabel.TextColor3 = Color3.new(0.2, 0.4, 0.8)
otherLabel.TextSize = 14
otherLabel.Font = Enum.Font.Gotham
otherLabel.TextYAlignment = Enum.TextYAlignment.Top
otherLabel.Parent = otherContent

-- Toggle Button
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 80, 0, 30)
toggleButton.Position = UDim2.new(0, 10, 0, 10)
toggleButton.BackgroundColor3 = Color3.new(0.3, 0.5, 1)
toggleButton.Text = "Mila üíñ"
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.TextSize = 12
toggleButton.Font = Enum.Font.GothamBold
toggleButton.Visible = false
toggleButton.Parent = screenGui

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(0, 15)
toggleCorner.Parent = toggleButton

-- Close/Toggle
closeButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = false
    toggleButton.Visible = true
end)

toggleButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = true
    toggleButton.Visible = false
end)

-- Keyboard shortcut
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.RightShift then
        mainFrame.Visible = not mainFrame.Visible
        toggleButton.Visible = not mainFrame.Visible
    end
end)

print("üíñ Mila UI loaded! Press Right Shift to toggle")