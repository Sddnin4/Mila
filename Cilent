-- Roblox GUI Script với Tab System
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Tạo ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ClientGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Tạo Frame chính (tăng chiều cao để chứa nhiều nút hơn)
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 600, 0, 350)
mainFrame.Position = UDim2.new(0.5, -300, 0.5, -175)
mainFrame.BackgroundColor3 = Color3.fromRGB(240, 240, 240)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

-- Tạo UICorner cho mainFrame
local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 10)
mainCorner.Parent = mainFrame

-- Tạo header bar
local headerBar = Instance.new("Frame")
headerBar.Name = "HeaderBar"
headerBar.Size = UDim2.new(1, 0, 0, 50)
headerBar.Position = UDim2.new(0, 0, 0, 0)
headerBar.BackgroundTransparency = 1
headerBar.Parent = mainFrame

-- Tạo header "Client"
local clientLabel = Instance.new("TextLabel")
clientLabel.Name = "ClientLabel"
clientLabel.Size = UDim2.new(0, 200, 1, 0)
clientLabel.Position = UDim2.new(0, 0, 0, 0)
clientLabel.BackgroundTransparency = 1
clientLabel.Text = "Client"
clientLabel.TextColor3 = Color3.fromRGB(80, 80, 80)
clientLabel.TextSize = 28
clientLabel.Font = Enum.Font.SourceSansBold
clientLabel.TextXAlignment = Enum.TextXAlignment.Left
clientLabel.Parent = headerBar

-- Tạo UIPadding cho clientLabel
local clientPadding = Instance.new("UIPadding")
clientPadding.PaddingLeft = UDim.new(0, 20)
clientPadding.Parent = clientLabel

-- Tạo nút đóng (X)
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -40, 0, 10)
closeButton.BackgroundColor3 = Color3.fromRGB(220, 53, 69)
closeButton.BorderSizePixel = 0
closeButton.Text = "×"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextSize = 18
closeButton.Font = Enum.Font.SourceSansBold
closeButton.Parent = headerBar

-- Tạo UICorner cho closeButton
local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 15)
closeCorner.Parent = closeButton

-- Tạo container cho các tab
local tabContainer = Instance.new("Frame")
tabContainer.Name = "TabContainer"
tabContainer.Size = UDim2.new(1, 0, 0, 40)
tabContainer.Position = UDim2.new(0, 0, 0, 50)
tabContainer.BackgroundTransparency = 1
tabContainer.Parent = mainFrame

-- Tạo UIPadding cho tabContainer
local tabPadding = Instance.new("UIPadding")
tabPadding.PaddingLeft = UDim.new(0, 20)
tabPadding.PaddingRight = UDim.new(0, 20)
tabPadding.Parent = tabContainer

-- Tạo tab "Global"
local globalTab = Instance.new("TextButton")
globalTab.Name = "GlobalTab"
globalTab.Size = UDim2.new(0, 120, 0, 35)
globalTab.Position = UDim2.new(0, 0, 0, 0)
globalTab.BackgroundColor3 = Color3.fromRGB(51, 102, 204)
globalTab.BorderSizePixel = 0
globalTab.Text = "Global"
globalTab.TextColor3 = Color3.fromRGB(255, 255, 255)
globalTab.TextSize = 16
globalTab.Font = Enum.Font.SourceSansBold
globalTab.Parent = tabContainer

-- Tạo UICorner cho globalTab
local globalTabCorner = Instance.new("UICorner")
globalTabCorner.CornerRadius = UDim.new(0, 6)
globalTabCorner.Parent = globalTab

-- Tạo tab "VNG"
local vngTab = Instance.new("TextButton")
vngTab.Name = "VNGTab"
vngTab.Size = UDim2.new(0, 80, 0, 35)
vngTab.Position = UDim2.new(0, 130, 0, 0)
vngTab.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
vngTab.BorderSizePixel = 0
vngTab.Text = "VNG"
vngTab.TextColor3 = Color3.fromRGB(80, 80, 80)
vngTab.TextSize = 16
vngTab.Font = Enum.Font.SourceSans
vngTab.Parent = tabContainer

-- Tạo UICorner cho vngTab
local vngTabCorner = Instance.new("UICorner")
vngTabCorner.CornerRadius = UDim.new(0, 6)
vngTabCorner.Parent = vngTab

-- Tạo content container
local contentContainer = Instance.new("Frame")
contentContainer.Name = "ContentContainer"
contentContainer.Size = UDim2.new(1, 0, 0, 250)
contentContainer.Position = UDim2.new(0, 0, 0, 90)
contentContainer.BackgroundTransparency = 1
contentContainer.Parent = mainFrame

-- Tạo UIPadding cho contentContainer
local contentPadding = Instance.new("UIPadding")
contentPadding.PaddingLeft = UDim.new(0, 20)
contentPadding.PaddingRight = UDim.new(0, 20)
contentPadding.PaddingTop = UDim.new(0, 10)
contentPadding.Parent = contentContainer

-- Tạo Global Content
local globalContent = Instance.new("Frame")
globalContent.Name = "GlobalContent"
globalContent.Size = UDim2.new(1, 0, 1, 0)
globalContent.Position = UDim2.new(0, 0, 0, 0)
globalContent.BackgroundTransparency = 1
globalContent.Visible = true
globalContent.Parent = contentContainer

-- Function để tạo executor button
local function createExecutorButton(name, link, position, color, parent)
    local button = Instance.new("TextButton")
    button.Name = name .. "Button"
    button.Size = UDim2.new(0, 120, 0, 35)
    button.Position = position
    button.BackgroundColor3 = color
    button.BorderSizePixel = 0
    button.Text = name
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 14
    button.Font = Enum.Font.SourceSansBold
    button.Parent = parent

    -- Tạo UICorner
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = button

    -- Hiệu ứng hover
    local originalColor = color
    local hoverColor = Color3.fromRGB(
        math.max(0, color.R * 255 - 20),
        math.max(0, color.G * 255 - 20),
        math.max(0, color.B * 255 - 20)
    )
    
    button.MouseEnter:Connect(function()
        local tween = TweenService:Create(button, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {BackgroundColor3 = hoverColor})
        tween:Play()
    end)
    
    button.MouseLeave:Connect(function()
        local tween = TweenService:Create(button, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {BackgroundColor3 = originalColor})
        tween:Play()
    end)

    -- Xử lý click
    button.MouseButton1Click:Connect(function()
        local success = pcall(function()
            setclipboard(link)
        end)
        
        if success then
            updateStatusLabel("✓ " .. name .. " link đã được copy!")
        else
            updateStatusLabel("Link " .. name .. ": " .. link)
        end
        
        print(name .. " clicked! Link: " .. link)
    end)
    
    return button
end

-- Function để cập nhật status label
local function updateStatusLabel(text)
    statusLabel.Text = text
    statusLabel.TextColor3 = Color3.fromRGB(34, 139, 34)
    
    spawn(function()
        wait(3)
        statusLabel.Text = ""
    end)
end

-- Tạo các executor buttons cho Global tab
local deltaX = createExecutorButton("Delta X", "https://deltaexploits.gg/delta-executor-android", 
    UDim2.new(0, 0, 0, 10), Color3.fromRGB(138, 43, 226), globalContent)

local arceusX = createExecutorButton("Arceus X", "https://www.mediafire.com/file/p05mfj8v7bj1yd5/Roblox_Arceus_X_NEO_1.8.1.apk/file", 
    UDim2.new(0, 130, 0, 10), Color3.fromRGB(30, 144, 255), globalContent)

local codeX = createExecutorButton("CodeX", "https://www.mediafire.com/file/kxpmihdc91o6tgz/Codex_v2.688.apk/file", 
    UDim2.new(0, 260, 0, 10), Color3.fromRGB(255, 69, 0), globalContent)

local vegaX = createExecutorButton("Vega X", "https://github.com/1f0yt/community/releases/download/Vegax/Vega.X.apk", 
    UDim2.new(0, 390, 0, 10), Color3.fromRGB(50, 205, 50), globalContent)

local ronix = createExecutorButton("Ronix", "https://wrdcdn.net/r/154522/1757349822750/Ronix_688_(arm64).apk", 
    UDim2.new(0, 0, 0, 55), Color3.fromRGB(220, 20, 60), globalContent)

-- Tạo thông tin hướng dẫn
local infoLabel = Instance.new("TextLabel")
infoLabel.Size = UDim2.new(1, 0, 0, 20)
infoLabel.Position = UDim2.new(0, 0, 0, 100)
infoLabel.BackgroundTransparency = 1
infoLabel.Text = "Click vào bất kỳ executor nào để copy link download"
infoLabel.TextColor3 = Color3.fromRGB(100, 100, 100)
infoLabel.TextSize = 12
infoLabel.Font = Enum.Font.SourceSans
infoLabel.TextXAlignment = Enum.TextXAlignment.Center
infoLabel.Parent = globalContent

-- Tạo status label để hiển thị thông báo
local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(1, 0, 0, 20)
statusLabel.Position = UDim2.new(0, 0, 0, 125)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = ""
statusLabel.TextColor3 = Color3.fromRGB(34, 139, 34)
statusLabel.TextSize = 12
statusLabel.Font = Enum.Font.SourceSansBold
statusLabel.TextXAlignment = Enum.TextXAlignment.Center
statusLabel.Parent = globalContent

-- Tạo VNG Content
local vngContent = Instance.new("Frame")
vngContent.Name = "VNGContent"
vngContent.Size = UDim2.new(1, 0, 1, 0)
vngContent.Position = UDim2.new(0, 0, 0, 0)
vngContent.BackgroundTransparency = 1
vngContent.Visible = false
vngContent.Parent = contentContainer

-- Tạo các executor buttons cho VNG tab
local arceusXVNG = createExecutorButton("Arceus X VNG", "https://www.mediafire.com/file/n3xmh2d41nprj9u/Roblox_-_VNG_Arceus_X_NEO_1.8.1.apk/file", 
    UDim2.new(0, 0, 0, 10), Color3.fromRGB(30, 144, 255), vngContent)

local codeXVNG = createExecutorButton("CodeX VNG", "https://www.mediafire.com/file/ndx38qpru8fnldp/Codex+VNG.apk/file", 
    UDim2.new(0, 150, 0, 10), Color3.fromRGB(255, 69, 0), vngContent)

-- Tạo thông tin hướng dẫn cho VNG
local vngInfoLabel = Instance.new("TextLabel")
vngInfoLabel.Size = UDim2.new(1, 0, 0, 20)
vngInfoLabel.Position = UDim2.new(0, 0, 0, 60)
vngInfoLabel.BackgroundTransparency = 1
vngInfoLabel.Text = "Các executor dành riêng cho Roblox VNG"
vngInfoLabel.TextColor3 = Color3.fromRGB(100, 100, 100)
vngInfoLabel.TextSize = 12
vngInfoLabel.Font = Enum.Font.SourceSans
vngInfoLabel.TextXAlignment = Enum.TextXAlignment.Center
vngInfoLabel.Parent = vngContent

-- Tạo status label cho VNG
local vngStatusLabel = Instance.new("TextLabel")
vngStatusLabel.Size = UDim2.new(1, 0, 0, 20)
vngStatusLabel.Position = UDim2.new(0, 0, 0, 85)
vngStatusLabel.BackgroundTransparency = 1
vngStatusLabel.Text = ""
vngStatusLabel.TextColor3 = Color3.fromRGB(34, 139, 34)
vngStatusLabel.TextSize = 12
vngStatusLabel.Font = Enum.Font.SourceSansBold
vngStatusLabel.TextXAlignment = Enum.TextXAlignment.Center
vngStatusLabel.Parent = vngContent

-- Cập nhật function updateStatusLabel để xử lý cả 2 tab
updateStatusLabel = function(text)
    if currentTab == "Global" then
        statusLabel.Text = text
    else
        vngStatusLabel.Text = text
    end
    
    spawn(function()
        wait(3)
        if currentTab == "Global" then
            statusLabel.Text = ""
        else
            vngStatusLabel.Text = ""
        end
    end)
end

-- Biến theo dõi tab hiện tại
local currentTab = "Global"

-- Function để chuyển tab
local function switchTab(tabName)
    if tabName == "Global" then
        -- Cập nhật tab appearance
        globalTab.BackgroundColor3 = Color3.fromRGB(51, 102, 204)
        globalTab.TextColor3 = Color3.fromRGB(255, 255, 255)
        globalTab.Font = Enum.Font.SourceSansBold
        
        vngTab.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
        vngTab.TextColor3 = Color3.fromRGB(80, 80, 80)
        vngTab.Font = Enum.Font.SourceSans
        
        -- Hiển thị content
        globalContent.Visible = true
        vngContent.Visible = false
        currentTab = "Global"
        
    elseif tabName == "VNG" then
        -- Cập nhật tab appearance
        vngTab.BackgroundColor3 = Color3.fromRGB(51, 102, 204)
        vngTab.TextColor3 = Color3.fromRGB(255, 255, 255)
        vngTab.Font = Enum.Font.SourceSansBold
        
        globalTab.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
        globalTab.TextColor3 = Color3.fromRGB(80, 80, 80)
        globalTab.Font = Enum.Font.SourceSans
        
        -- Hiển thị content
        globalContent.Visible = false
        vngContent.Visible = true
        currentTab = "VNG"
    end
end

-- Tạo hiệu ứng hover cho các nút
local function createHoverEffect(button, hoverColor, originalColor)
    local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad)
    
    button.MouseEnter:Connect(function()
        if button == globalTab and currentTab ~= "Global" then
            local tween = TweenService:Create(button, tweenInfo, {BackgroundColor3 = hoverColor})
            tween:Play()
        elseif button == vngTab and currentTab ~= "VNG" then
            local tween = TweenService:Create(button, tweenInfo, {BackgroundColor3 = hoverColor})
            tween:Play()
        elseif button == closeButton then
            local tween = TweenService:Create(button, tweenInfo, {BackgroundColor3 = hoverColor})
            tween:Play()
        end
    end)
    
    button.MouseLeave:Connect(function()
        if button == globalTab and currentTab ~= "Global" then
            local tween = TweenService:Create(button, tweenInfo, {BackgroundColor3 = originalColor})
            tween:Play()
        elseif button == vngTab and currentTab ~= "VNG" then
            local tween = TweenService:Create(button, tweenInfo, {BackgroundColor3 = originalColor})
            tween:Play()
        elseif button == closeButton then
            local tween = TweenService:Create(button, tweenInfo, {BackgroundColor3 = originalColor})
            tween:Play()
        end
    end)
end

-- Áp dụng hiệu ứng hover
createHoverEffect(globalTab, Color3.fromRGB(170, 170, 170), Color3.fromRGB(200, 200, 200))
createHoverEffect(vngTab, Color3.fromRGB(170, 170, 170), Color3.fromRGB(200, 200, 200))
createHoverEffect(closeButton, Color3.fromRGB(200, 35, 51), Color3.fromRGB(220, 53, 69))

-- Xử lý sự kiện click cho tabs
globalTab.MouseButton1Click:Connect(function()
    switchTab("Global")
    print("Switched to Global tab")
end)

vngTab.MouseButton1Click:Connect(function()
    switchTab("VNG")
    print("Switched to VNG tab")
end)

-- Xử lý sự kiện đóng GUI
closeButton.MouseButton1Click:Connect(function()
    local closeTween = TweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back), {
        Size = UDim2.new(0, 0, 0, 0)
    })
    closeTween:Play()
    
    closeTween.Completed:Connect(function()
        screenGui:Destroy()
    end)
    
    print("GUI closed")
end)

-- Tạo hiệu ứng mở GUI
mainFrame.Size = UDim2.new(0, 0, 0, 0)
local openTween = TweenService:Create(mainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back), {
    Size = UDim2.new(0, 600, 0, 350)
})
openTween:Play()

-- Drag functionality
local dragging = false
local dragStart = nil
local startPos = nil

headerBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
    end
end)

headerBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement and dragging then
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

headerBar.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

print("Client GUI with tabs loaded successfully!")